{"version":3,"sources":["design/items.js","design/skills.js","design/locations.js","design/characters.js","components/template/header.js","components/template/footer.js","components/app.js","components/auth/require_auth.js","components/Game/components/CharacterSummary/index.js","components/Game/components/LocationSummary/index.js","components/Game/components/WorldSummary/index.js","components/Game/components/ListItems/character.js","components/Game/components/ListItems/ability.js","components/Game/components/ListItems/location.js","components/Game/components/ListItems/item.js","components/Game/components/ListItems/record.js","components/Game/components/ListItems/message.js","components/Game/components/ListItems/skill.js","components/Game/components/ListItems/chat.js","actions/types.js","actions/socket.js","actions/auth.js","actions/index.js","actions/Game/eventPopup.js","actions/Game/item.js","actions/Game/location.js","actions/Game/character.js","components/Game/components/EventButton/index.js","actions/Game/routine.js","components/Game/components/EventPopup/index.js","components/Game/components/ChatInput/index.js","components/Game/components/GameCard/index.js","components/Game/components/index.js","components/Game/routes.js","components/pages/not-found-page.js","components/pages/home-page.js","components/pages/contact-page.js","components/sales/pricing-table.js","components/sales/social-media-bar.js","components/sales/rotator-item.js","components/sales/rotator-nav.js","components/sales/rotator.js","components/pages/component-samples.js","components/auth/register.js","components/auth/login.js","components/auth/logout.js","components/auth/forgot_password.js","components/auth/reset_password.js","components/dashboard/dashboard.js","components/dashboard/profile/user-info.js","components/dashboard/profile/view-profile.js","components/dashboard/messaging/conversation-item.js","components/dashboard/messaging/conversation-list.js","components/dashboard/messaging/inbox.js","actions/messaging.js","components/dashboard/messaging/message-item.js","components/dashboard/messaging/message-list.js","components/dashboard/messaging/reply-message.js","components/dashboard/messaging/conversation.js","components/dashboard/messaging/compose-message.js","actions/billing.js","components/billing/checkout-fields.js","components/billing/checkout-form.js","components/billing/settings.js","components/billing/initial-checkout.js","components/admin/dashboard.js","routes.js","reducers/auth_reducer.js","reducers/user_reducer.js","reducers/communication_reducer.js","reducers/customer_reducer.js","reducers/game_reducer.js","reducers/event_reducer.js","reducers/index.js","index.js","design/game.js"],"names":["ITEMS","CRAFT_CHECK","player","supply","activeLevels","sorcery","filter","item","name","length","MODIFIER","attacker","defender","module","exports","SKILLS","LIST","ABILITIES","CALCULATE_SNEAK","location","character","analysis","totalWarfareLevelOfGuards","getCharacters","reduce","GET_LEVEL","experience","warfare","maxTotalWarfareLevel","kingdom","increment","upperLimit","percentGuarded","i","percent","stealth","chance","roll","Math","random","console","log","family","this","LEVEL_CURVE","GET_ABILITIES","skillName","abilities","ABILITY_CURVE","push","level","levels","pow","call","number","LOCATIONS","enemyTeam","r_value","_id","compromised","sameTeam","SECONDS_PER_GRID","DESCRIPTION","FLAVOR","CAPACITY","EVENTS","bind","PRIVATE","ACCESSIBLE","X_FROM_CENTER","Y_FROM_CENTER","CHARACTERS","event","dead","HeaderTemplate","props","authenticated","key","to","className","type","data-toggle","data-target","logo","id","renderLinks","Component","connect","state","auth","FooterTemplate","year","Date","getFullYear","App","children","ComposedComponent","Authentication","context","router","nextProps","contextTypes","React","PropTypes","object","CharacterSummary","LocationSummary","WorldSummary","Game","onClick","goToSummary","Location","style","color","select","category","Record","Message","message","author","body","AUTH_USER","UNAUTH_USER","AUTH_ERROR","FORGOT_PASSWORD_REQUEST","RESET_PASSWORD_REQUEST","PROTECTED_TEST","FETCH_USER","FETCH_CONVERSATIONS","FETCH_RECIPIENTS","START_CONVERSATION","FETCH_SINGLE_CONVERSATION","CHAT_ERROR","SEND_REPLY","SEND_CONTACT_FORM","STATIC_ERROR","CREATE_CUSTOMER","FETCH_CUSTOMER","CANCEL_SUBSCRIPTION","UPDATE_BILLING","BILLING_ERROR","CHANGE_SUBSCRIPTION","GAME_ERROR","GAME_SUCCESS","EVENT_RESULT","EVENT_CLOSE","EVENT_OPEN","EVENT_ANALYZE","EVENT_REVIEW","GIVE_EVENT_LOCAL_PROPS","SET_PLAYER","SET_FAMILY","SET_GAME","socket","io","window","hostname","gameId","loginUser","email","password","dispatch","axios","post","API_URL","then","response","cookie","save","data","token","path","user","payload","catch","error","errorHandler","registerUser","firstName","lastName","login","getState","resumeGame","href","CLIENT_ROOT_URL","load","game","selectGame","characterId","currentCharacter","selectCharacter","register","registerFamily","characterLastName","familyId","registerCharacter","primary","characterFirstName","url","postData","logoutUser","remove","getForgotPasswordToken","resetPassword","browserHistory","protectedTest","get","headers","Authorization","content","errorMessage","status","action","errorType","isAuthReq","requestUrl","withCredentials","getData","putData","put","analyzeEvent","eventState","closeEventPopup","openEventPopup","plantBug","itemId","sneakThroughLocation","locationId","stealFromLocation","invadeLocation","messageLocation","attackCharacter","senseCharacter","messageCharacter","reset","EventButton","giveEventLocalProps","text","substr","toLowerCase","handleClick","mapDispatchToProps","createRoutine","startRoutine","routineId","endRoutine","craftItem","equipItem","unequipItem","travelToLocation","recordCharacter","ownProps","EventPopup","TT","now","travelStart","secondsRemaining","ceil","travelTime","setState","clearInterval","interval","setInterval","tick","on","Object","assign","_handleKeyDown","keyCode","recipientModel","target","value","document","addEventListener","removeEventListener","onChange","e","updateBody","GameCard","summaryView","listView","selectedCharacter","selectedItem","selectedLocation","scene","relationship","sceneItems","forEach","sceneItem","recipient","emit","playerState","worldState","summary","back","currentLocation","world","goToWorldSummary","goToLocationSummary","chat","list","characters","map","goToCharacterSummary","locations","design","selectLocation","record","ChatInput","events","constructor","Function","open","component","NotFoundPage","HomePage","ContactPage","emailAddress","subject","sendContactForm","handleSubmit","fields","onSubmit","handleFormSubmit","renderMessage","renderAlert","reduxForm","form","communication","PricingTable","componentStyle","backgroundColor","fontColor","planName","price","features","index","SocialMediaBar","socialNetworks","title","alt","src","img","RotatorItem","selectedSlide","rotator","headline","RotatorNav","toMap","active","setPage","renderNav","Rotator","rotators","slider","bronzeFeatures","silverFeatures","goldFeatures","social","ComponentSamplesPage","validate","formProps","errors","renderField","field","input","touched","Register","Login","Logout","actions","ForgotPassword","passwordConfirm","ResetPassword","resetToken","params","resetMessage","Dashboard","roleToCheck","toRender","role","isRole","adminMenu","ownerMenu","clientMenu","UserInfo","profile","ViewProfile","userId","fetchUser","uid","ConversationItem","conversationId","timestamp","moment","require","ConversationList","userCookie","conversations","authorId","substring","createdAt","from","Inbox","fetchConversations","renderInbox","currentUser","MessageItem","MessageList","displayMessages","autoComplete","ReplyMessage","sendReply","replyTo","placeholder","recipients","composedMessage","Conversation","fetchConversation","messages","conversation","ComposeMessage","fetchRecipients","startConversation","renderRecipients","createCustomer","stripeToken","plan","lastFour","fetchCustomer","cancelSubscription","updateSubscription","newPlan","updateBilling","CheckoutFields","handleChange","formState","cardNumber","cvc","expMonth","expYear","CheckoutForm","stripePublicKey","loadStripe","getElementById","stripeJs","createElement","async","appendChild","preventDefault","that","Stripe","setPublishableKey","card","createToken","exp_month","exp_year","last4","handleFormChange","BillingSettings","cancelConfirm","changeSubscription","customer","subscriptions","mostRecentSubscription","total_count","mostRecentSource","sources","subscribedPlan","pmtAmt","amount","toFixed","pmtDate","unix","current_period_end","format","toString","cancel_at_period_end","renderAccountActions","toggleCancelConfirm","handlePlanChange","changePlanSubmit","toggleChangeSubscription","toggleUpdateBilling","renderPlan","InitialCheckout","AdminDashboard","RequireAuth","GameRoutes","INITIAL_STATE","success","GAME","rootReducer","combineReducers","formReducer","mode","logger","createLogger","predicate","ReactGA","initialize","store","applyMiddleware","reduxThunk","createStore","createStoreWithMiddleware","reducers","ReactDOM","render","history","routes","onUpdate","pageview","pathname","querySelector","SPEED"],"mappings":"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","file":"static/js/main.2172a360.chunk.js","sourcesContent":["//IS EVERY CRAFT_CHECK THE SAME, can i just have a list of what the name of the supply is and the quantity it needs\n// NO! !!! BECAUSE THE GAME MUST HOLD SECRETS, IN THESE FUNCTIONS ARE THE SECRETS TO WHAT IS ALLOWED TO HAPPEN OR NOT\n// EXCEPTIONS EXCEPTIONS EXCEPTIONS ARE WHAT MAKE THIS GAME GREAT AND INTERESTING\n// THE MYSTERY\n\n// import SKILLS from './skills'\n\n// var SKILLS = require('./skills').SKILLS\n\nvar ITEMS = {}\n\nITEMS['fire wizard staff'] = {\n\tCRAFT_CHECK: function(player, supply){\n\t\tif(player.activeLevels().sorcery < 20) return false\n\t\tif(supply.filter(function(item){ return item.name === 'fire logs' }).length < 20) return false\n\t\treturn true\n\t},\n\tMODIFIER: function(attacker, defender){\n\n\t}\n}\n\n\nmodule.exports = ITEMS\n","//WARFARE active level includes possible equipment\n\nvar SKILLS = {\n\t//other stealth names - secrecy, silence, camoflauge, covert, spycraft, theivery, asassination, padfoot???\n\tLIST: ['mining', 'woodcutting', 'herding', 'stealth', 'magic', 'warfare'],\n}\n\nSKILLS['magic'] = {\n\tABILITIES: [\n\t\t'level 1 charms',\n\t\t'level 2 charms',\n\t\t'start at 8',\n\t\t'level 3 charms, level 1 wall charms',\n\t\t'level 4 charms',\n\t\t'start at 20',\n\t\t'level 5 charms, level 2 wall charms',\n\t\t'level 6 charms'\n\t]\n}\n\nSKILLS['stealth'] = {\n\tABILITIES: [\n\t\t'sneak',\n\t\t'steal',\n\t\t'start at 8',\n\t\t'sense charm level?? I still like sense skill....you CANT do sense charm',\n\t\t'sense abilities',\n\t\t'start at 20',\n\t\t'bug',\n\t\t'start at 50'\n\t],\n\tCALCULATE_SNEAK: function(location, character, analysis){\n\t\t///does it add this function to the front end?? or do I check to see if im on front end here or not...\n\t\tvar totalWarfareLevelOfGuards = location.getCharacters().reduce(function(character){\n\t\t\treturn SKILLS.GET_LEVEL(character.experience.warfare)\n\t\t}, 0)\n\n\t\t///just need .length. perhaps create a function on front end that grabs the characters from the world objects?\n\t\tvar maxTotalWarfareLevel = (location.kingdom.getCharacters().length / 4) * 100\n\n\t\t//lower limit 1-99 1%-7%\n\t\t//higher limit 70%\n\t\tvar lowerLimit = 7 //lower limit w 100 stealth\n\t\tvar upperLimit = 70 //upper limit w 100 stealth\n\t\tvar variablePortion = upperLimit - lowerLimit\n\t\tvar increment = variablePortion/maxTotalWarfareLevel; //only use difference of total percent\n\t\tvar percentGuarded = 0\n\n\t\tfor(var i = 0; i < maxTotalWarfareLevel; i++){\n\t\t\tif(i > totalWarfareLevelOfGuards) break; //stop running if youve reached total level\n\t\t\tpercentGuarded += increment\n\t\t\t//diminishing increase in (percent subractd from stealth success)\n\t\t}\n\n\t\t//analysis so short circuit\n\t\tif(analysis && !character){\n\t\t\treturn {\n\t\t\t\tpercentGuarded: percentGuarded\n\t\t\t}\n\t\t}\n\n\t\tvar percent = upperLimit - percentGuarded\n\n\t\tvar stealthLevel = SKILLS.GET_LEVEL(character.experience.stealth)\n\t\tpercent = (stealthLevel/100) * percent\n\t\t//only take a fraction of the remaining percent\n\n\t\t//analysis so short circuit\n\t\tif(analysis && character){\n\t\t\treturn {\n\t\t\t\tchance: percent,\n\t\t\t}\n\t\t}\n\n\t\t//not analysis, dont short circuit\n\t\tvar roll = Math.random() * 100;\n\t\tconsole.log(character.name + ' ' + character.family.name + \" rolled a \" + roll + ' on a stealth roll up against ' + percent + ' percent chance at the ' + location.name + ' of ' + location.kingdom.name)\n\t\t//roll falls within the range specified\n\t\tif(roll <= percent){\n \t\t\treturn true\n\t\t}else{\n\t\t\treturn false\n\t\t}\n\n\t}\n}\n\nSKILLS['warfare'] = {\n\tABILITIES: [\n\t\t'level 1 weapons',\n\t\t'level 2 weapons',\n\t\t'start at 8',\n\t\t'level 3 weapons',\n\t\t'level 4 weapons',\n\t\t'start at 20',\n\t\t'level 5 weapons',\n\t\t'level 6 weapons'\n\t]\n}\n\nSKILLS['herding'] = {\n\tABILITIES: [\n\t\t'Cow',\n\t\t'deer',\n\t\t'start at 8',\n\t\t'horse',\n\t\t'camel idfg',\n\t\t'start at 20',\n\t\t'pegasus',\n\t\t'dragon '\n\t]\n\n}\n\nSKILLS['woodcutting'] = {\n\tABILITIES: [\n\t\t'badwood',\n\t\t'goodwood',\n\t\t'start at 8',\n\t\t'greatwood',\n\t\t'ultrawood',\n\t\t'start at 20',\n\t\t'masterwood',\n\t\t'Wood of the ancients'\n\t]\n}\n\nSKILLS['mining'] = {\n\tABILITIES: [\n\t\t'rock',\n\t\t'iron',\n\t\t'start at 8',\n\t\t'greenstone',\n\t\t'bluestone',\n\t\t'start at 20',\n\t\t'redstone',\n\t\t'agamandoon/badazite'\n\t]\n}\n\nSKILLS.GET_LEVEL = function(experience){\n\tfor(var i = 0; i < this.LEVEL_CURVE.length; i++){\n\t\tif(experience < this.LEVEL_CURVE[i]) return i - 1\n\t}\n\treturn i\n}\n\nSKILLS.GET_ABILITIES = function(skillName, experience){\n\tvar abilities = []\n\n\tfor(var i = 0; i < this.ABILITY_CURVE.length; i++){\n\t\tif(experience > this.ABILITY_CURVE[i]){\n\t\t\tabilities.push(this[skillName].ABILITIES[i])\n\t\t}\n\t}\n\n\treturn abilities\n}\n\nSKILLS.LEVEL_CURVE = function(){\n\tfunction equation(level){\n\t\treturn (Math.pow(level, 1.8) * 100) / 2\n\t}\n\n\tvar levels = [0]\n\n\tfor(var i = 1; i <= 100; i++){\n\t\tlevels.push(equation(i))\n\t}\n\n\treturn levels\n}.call()\n\nSKILLS.ABILITY_CURVE = function(){\n\tfunction equation(number){\n\t\treturn (Math.pow(2, number) * (3600 * 2))\n\t}\n\n\tvar abilities = [0] //<-- you can always use the first ability\n\n\tfor(var i = 1; i < 8; i++){\n\t\tabilities.push(equation(i))\n\t}\n\n\treturn abilities\n}.call()\n\nmodule.exports = SKILLS\n","var LOCATIONS = {}\n\nLOCATIONS.SECONDS_PER_GRID = 10\n\nfunction enemyTeam(r_value, player, location){\n\tif(player.kingdom._id !== location.kingdom._id && !location.compromised) return r_value\n\telse return false\n}\n\nfunction sameTeam(r_value, player, location){\n\tif(player.kingdom._id === location.kingdom._id || location.compromised) return r_value\n\telse return false\n}\n\nLOCATIONS['townCenter'] = {\n\tDESCRIPTION: 'A good place to chill and talk w ur team (look out for spies!)',\n\tFLAVOR: 'some say papa bear was here a long time ago',\n\tCAPACITY: 100,\n\tEVENTS: [enemyTeam.bind(null, 'invade'), sameTeam.bind(null, 'craft'), sameTeam.bind(null, 'equip'), enemyTeam.bind(null, 'sneak'), enemyTeam.bind(null, 'steal')],\n\tPRIVATE: true,\n\tACCESSIBLE: sameTeam.bind(null, true),\n\tX_FROM_CENTER: 0,\n\tY_FROM_CENTER: 0,\n}\n\n// LOCATIONS['supplyDepot'] = {\n// \tDESCRIPTION: 'All the shit is here, craft items, get equipment',\n// \tFLAVOR: 'papa bear smells something cooking!',\n// \tCAPACITY: 100,\n// \tEVENTS: [enemyTeam.bind(null, 'invade'),  s],\n// \tPRIVATE: true,\n// \tACCESSIBLE: sameTeam.bind(null, true),\n// \tX_FROM_CENTER: 1,\n// \tY_FROM_CENTER: 1\n// }\n\nLOCATIONS['gate'] = {\n\tDESCRIPTION: 'All the shit is here, craft items, get equipment',\n\tFLAVOR: 'papa bear smells something cooking!',\n\tCAPACITY: 100,\n\tEVENTS: [enemyTeam.bind(null, 'invade'), enemyTeam.bind(null, 'sneak'), sameTeam.bind('trainWarfare')],\n\tPRIVATE: false,\n\tX_FROM_CENTER: 2,\n\tY_FROM_CENTER: 2\n}\n\nLOCATIONS['royalChambers'] = {\n\tDESCRIPTION: 'Comfy! is that a nice velvet couch? (wehre the king stays)',\n\tFLAVOR: 'The king of men resides here',\n\tCAPACITY: 100,\n\tEVENTS: [],\n\tPRIVATE: true,\n\tACCESSIBLE: sameTeam.bind(null, true),\n\tX_FROM_CENTER: -1,\n\tY_FROM_CENTER: -1\n}\n\nLOCATIONS['quarry'] = {\n\tDESCRIPTION: 'This is where you mine',\n\tFLAVOR: 'some say papa bear fell in here',\n\tCAPACITY: 100,\n\tEVENTS: ['mine'],\n\tPRIVATE: false,\n\tX_FROM_CENTER: 5,\n\tY_FROM_CENTER: 0\n}\n\nLOCATIONS['woods'] = {\n\tDESCRIPTION: 'A vast forest sits in front of you. You see a Wizards Tower poking out in the distance. These trees are a great place to hide....',\n\tFLAVOR: 'some say papa bear LIVES here',\n\tCAPACITY: 100,\n\tEVENTS: ['woodcut', 'trainMagic', 'trainStealth'],\n\tPRIVATE: false,\n\tX_FROM_CENTER: 0,\n\tY_FROM_CENTER: 5\n}\n\nLOCATIONS['field'] = {\n\tDESCRIPTION: 'Theres is where you herd animals',\n\tFLAVOR: 'some say papa bear feeds here',\n\tCAPACITY: 100,\n\tEVENTS: ['herd'],\n\tPRIVATE: false,\n\tX_FROM_CENTER: 5,\n\tY_FROM_CENTER: 5\n}\n\n// LOCATIONS['barracks'] = {\n// \tDESCRIPTION: 'Theres is where you train warfare',\n// \tFLAVOR: 'some say papa bear wants to destroy this place',\n// \tCAPACITY: 100,\n// \tEVENTS: ['trainWarfare'],\n// \tPRIVATE: true,\n// \tACCESSIBLE: sameTeam.bind(null, true),\n// \tX_FROM_CENTER: 0,\n// \tY_FROM_CENTER: 2\n// }\n\n// LOCATIONS['sewers'] = {\n// \tDESCRIPTION: 'Theres is where you train stealth',\n// \tFLAVOR: 'some say papa bear has never seen this place',\n// \tCAPACITY: 100,\n// \tEVENTS: ['trainStealth'],\n// \tPRIVATE: true,\n// \tACCESSIBLE: sameTeam.bind(null, true),\n// \tX_FROM_CENTER: 1,\n// \tY_FROM_CENTER: 0\n// }\n\n// LOCATIONS['tower'] = {\n// \tDESCRIPTION: 'Theres is where you train magic',\n// \tFLAVOR: 'some say you can see papa bear staring up here',\n// \tCAPACITY: 100,\n// \tEVENTS: ['trainMagic'],\n// \tACCESSIBLE: sameTeam.bind(null, true),\n// \tPRIVATE: true,\n// \tX_FROM_CENTER: 1,\n// \tY_FROM_CENTER: -1\n// }\n\nmodule.exports = LOCATIONS\n","var CHARACTERS = {}\n\nfunction enemyTeam(event, player, character){\n\tif(player.kingdom._id !== character.kingdom._id && !character.dead) return event\n\telse return false\n}\n\nfunction sameTeam(event, player, character){\n\tif(player.kingdom._id === character.kingdom._id && !character.dead) return event\n\telse return false\n}\n\nfunction isPlayer(event, player, character){\n\tif(player._id === character._id) return event\n\telse return false\n}\n\nCHARACTERS.EVENTS = [isPlayer.bind(null, 'unequip'), enemyTeam.bind(null, 'attack'), enemyTeam.bind(null, 'senseSkill'), enemyTeam.bind(null, 'senseCharm'), 'senseBug', enemyTeam.bind(null, 'plantBug'), 'record']\n\nmodule.exports = CHARACTERS\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router';\n\nclass HeaderTemplate extends Component {\n  renderLinks() {\n    if (this.props.authenticated) {\n      return [\n        <li key={`${1}header`}>\n          <Link to=\"/\">Home</Link>\n        </li>,\n        <li key={`${2}header`}>\n          <Link to=\"game\">Game</Link>\n        </li>,\n        <li key={`${3}header`}>\n          <Link to=\"logout\">Logout</Link>\n        </li>,\n      ];\n    } else {\n      return [\n        // Unauthenticated navigation\n        <li key={1}>\n          <Link to=\"/\">Home</Link>\n        </li>,\n        <li key={2}>\n          <Link to=\"/login\">Login</Link>\n        </li>,\n        <li key={3}>\n          <Link to=\"/register\">Register</Link>\n        </li>,\n      ];\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <nav className=\"navbar navbar-default navbar-fixed-top\">\n          <div className=\"container\">\n            <div className=\"navbar-header\">\n              <button type=\"button\" className=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#nav-collapse\">\n                <span className=\"icon-bar\" />\n                <span className=\"icon-bar\" />\n                <span className=\"icon-bar\" />\n              </button>\n              <Link className=\"navbar-brand\" to=\"/\">{this.props.logo}</Link>\n            </div>\n\n            <div className=\"collapse navbar-collapse\" id=\"nav-collapse\">\n              <ul className=\"nav navbar-nav navbar-right\">\n                {this.renderLinks()}\n              </ul>\n            </div>\n          </div>\n        </nav>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    authenticated: state.auth.authenticated,\n  };\n}\n\nexport default connect(mapStateToProps)(HeaderTemplate);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router';\n\nclass FooterTemplate extends Component {\n  renderLinks() {\n    if (this.props.authenticated) {\n      return [\n        <li key={1}>\n          <Link to=\"/\">Home</Link>\n        </li>,\n        <li key={2}>\n          <Link to=\"dashboard\">Dashboard</Link>\n        </li>,\n        <li key={3}>\n          <Link to=\"logout\">Logout</Link>\n        </li>,\n      ];\n    } else {\n      return [\n        // Unauthenticated navigation\n        <li key={1}>\n          <Link to=\"/\">Home</Link>\n        </li>,\n        <li key={2}>\n          <Link to=\"login\">Login</Link>\n        </li>,\n        <li key={3}>\n          <Link to=\"register\">Register</Link>\n        </li>,\n      ];\n    }\n  }\n\n  render() {\n    const d = new Date();\n    const year = d.getFullYear();\n\n    return (\n      <footer>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-lg-12\">\n              <nav>\n                <ul className=\"footer-nav\">\n                  {this.renderLinks()}\n                </ul>\n              </nav>\n              <p className=\"copyright\">© {year}, Your Site. All Rights Reserved.</p>\n            </div>\n          </div>\n        </div>\n      </footer>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    authenticated: state.auth.authenticated,\n  };\n}\n\nexport default connect(mapStateToProps, null)(FooterTemplate);\n","import React, { Component } from 'react';\nimport HeaderTemplate from './template/header';\nimport FooterTemplate from './template/footer';\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <HeaderTemplate logo=\"Papa Bear: All For King\" />\n\n        <div className=\"container\">\n          {this.props.children}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nexport default function (ComposedComponent) {\n  class Authentication extends Component {\n    static contextTypes = {\n      router: React.PropTypes.object,\n    }\n\n    componentWillMount() {\n      if (!this.props.authenticated) {\n        this.context.router.push('/login');\n      }\n    }\n\n    componentWillUpdate(nextProps) {\n      if (!nextProps.authenticated) {\n        this.context.router.push('/login');\n      }\n    }\n\n    render() {\n      return <ComposedComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state) {\n    return { authenticated: state.auth.authenticated };\n  }\n\n  return connect(mapStateToProps)(Authentication);\n}\n","import React, { Component } from 'react';\n\nclass CharacterSummary extends Component {\n  render() {\n    return (\n      <div className=\"CharacterSummary\">\n        {'Character Summary View'}\n        Name: {this.props.character.name + ' ' + this.props.character.family.name}\n        Kingdom: {this.props.character.kingdom.name}\n      </div>\n    );\n  }\n}\n\nexport default CharacterSummary;","import React, { Component } from 'react';\n\nclass LocationSummary extends Component {\n  render() {\n    if(!this.props.location) return (<div>{'Loading...'}</div>)\n\n    let location = this.props.location\n    return (\n      <div className=\"LocationSummary\">\n      \t{'Location Summary View'}\n        {location.name}\n      </div>\n    );\n  }\n}\n\nexport default LocationSummary;","import React, { Component } from 'react';\n\nclass WorldSummary extends Component {\n  render() {\n    return (\n      <div className=\"WorldSummary\">\n        {'World Summary View'}\n      </div>\n    );\n  }\n}\n\nexport default WorldSummary;","import React, { Component } from 'react';\n\nclass Game extends Component {\n  render() {\n    return (\n      <div onClick={this.props.goToSummary} className=\"CharacterListItem\">\n        {this.props.character.name + \" \" + this.props.character.family.name}\n      </div>\n    );\n  }\n}\n\nexport default Game;","import React, { Component } from 'react';\n\nclass Game extends Component {\n  render() {\n  \t\tconsole.log(this.props)\n\n    return (\n      <div>\n        <div className=\"Game\">\n          {\"WASSUP LETS PLAY\"}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Game;","import React, { Component } from 'react';\n\nclass Location extends Component {\n  render() {\n    return (\n      <div style={{color:this.props.location.kingdom.color}} onClick={this.props.select} className=\"Location\">\n        {`Name: ${this.props.location.name} Category: ${this.props.location.category} Kingdom: ${this.props.location.kingdom.name}`}\n      </div>\n    )\n  }\n}\n\nexport default Location;","import React, { Component } from 'react';\n\nclass Game extends Component {\n  render() {\n  \t\tconsole.log(this.props)\n\n    return (\n      <div>\n        <div className=\"Game\">\n          {\"WASSUP LETS PLAY\"}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Game;","import React, { Component } from 'react';\n\nclass Record extends Component {\n  render() {\n    return (\n      <div className=\"Record\">\n\n      </div>\n    );\n  }\n}\n\nexport default Record;","import React, { Component } from 'react';\n\nclass Message extends Component {\n  render() {\n    return (\n      <div className=\"Message\">\n      \t{`${this.props.message.author.name} ${this.props.message.author.family.name}: ${this.props.message.body}`}\n      </div>\n    );\n  }\n}\n\nexport default Message;","import React, { Component } from 'react';\n\nclass Game extends Component {\n  render() {\n  \t\tconsole.log(this.props)\n\n    return (\n      <div>\n        <div className=\"Game\">\n          {\"WASSUP LETS PLAY\"}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Game;","import React, { Component } from 'react';\n\nclass Game extends Component {\n  render() {\n  \t\tconsole.log(this.props)\n\n    return (\n      <div>\n        <div className=\"Game\">\n          {\"WASSUP LETS PLAY\"}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Game;","//= =====================\n// Auth Actions\n//= =====================\nexport const AUTH_USER = 'auth_user',\n  UNAUTH_USER = 'unauth_user',\n  AUTH_ERROR = 'auth_error',\n  FORGOT_PASSWORD_REQUEST = 'forgot_password_request',\n  RESET_PASSWORD_REQUEST = 'reset_password_request',\n  PROTECTED_TEST = 'protected_test';\n\n//= =====================\n// User Profile Actions\n//= =====================\nexport const FETCH_USER = 'fetch_user';\nexport const ERROR_RESPONSE = 'error_reponse';\n\n//= =====================\n// Messaging Actions\n//= =====================\nexport const FETCH_CONVERSATIONS = 'fetch_conversations',\n  FETCH_RECIPIENTS = 'fetch_recipients',\n  START_CONVERSATION = 'start_conversation',\n  FETCH_SINGLE_CONVERSATION = 'fetch_single_conversation',\n  CHAT_ERROR = 'chat_error',\n  SEND_REPLY = 'send_reply';\n\n//= =====================\n// Page Actions\n//= =====================\nexport const SEND_CONTACT_FORM = 'send_contact_form',\n  STATIC_ERROR = 'static_error';\n\n//= =====================\n// Customer Actions\n//= =====================\nexport const CREATE_CUSTOMER = 'create_customer',\n  FETCH_CUSTOMER = 'fetch_customer',\n  CANCEL_SUBSCRIPTION = 'cancel_subscription',\n  UPDATE_BILLING = 'update_billing',\n  BILLING_ERROR = 'billing_error',\n  CHANGE_SUBSCRIPTION = 'change_subscription';\n\n//= =====================\n// Game Actions\n//= =====================\nexport const UPDATE_GAME = 'update_game';\nexport const GAME_ERROR = 'game_error';\nexport const GAME_SUCCESS = 'event_success';\nexport const EVENT_RESULT = 'event_result';\nexport const EVENT_CLOSE = 'event_close';\nexport const EVENT_OPEN = 'event_open';\nexport const EVENT_ANALYZE = 'event_analyze';\nexport const EVENT_REVIEW = 'event_review';\nexport const GIVE_EVENT_LOCAL_PROPS = 'give_event_local_props';\nexport const SET_PLAYER = 'set_player';\nexport const SET_KINGDOM = 'set_kingdom';\nexport const SET_FAMILY = 'set_family';\nexport const SET_GAME = 'set_game';\n","import io from 'socket.io-client';\nlet socket = io.connect(`http://${window.location.hostname}:3000`);\n\nexport default socket","import axios from 'axios';\nimport { browserHistory } from 'react-router';\nimport cookie from 'react-cookie';\nimport { postData, API_URL, CLIENT_ROOT_URL, errorHandler } from './index';\nimport { AUTH_USER, AUTH_ERROR, UNAUTH_USER, FORGOT_PASSWORD_REQUEST, RESET_PASSWORD_REQUEST, PROTECTED_TEST, EVENT_SUCCESS, GAME_ERROR, SET_FAMILY, SET_KINGDOM, SET_GAME, SET_PLAYER, EVENT_RESULT } from './types';\nimport socket from './socket'\nimport { id } from '../design/game'\nlet gameId = id\n\n\n//= ===============================\n// Authentication actions\n//= ===============================\n\n// TO-DO: Add expiration to cookie\nexport function loginUser({ email, password }) {\n  return function (dispatch) {\n    return axios.post(`${API_URL}/auth/login`, { email, password })\n    .then((response) => {\n      cookie.save('token', response.data.token, { path: '/' });\n      cookie.save('user', response.data.user, { path: '/' });\n      dispatch({ type: AUTH_USER, payload: response.data });\n    })\n    .catch((error) => {\n      errorHandler(dispatch, error.response, AUTH_ERROR);\n    });\n  };\n}\n\nexport function registerUser({ email, firstName, lastName, password }) {\n  return function (dispatch) {\n    return axios.post(`${API_URL}/auth/register`, { email, firstName, lastName, password })\n    .then((response) => {\n      cookie.save('token', response.data.token, { path: '/' });\n      cookie.save('user', response.data.user, { path: '/' });\n      dispatch({ type: AUTH_USER, payload: response.data });\n    })\n    .catch((error) => {\n      errorHandler(dispatch, error.response, AUTH_ERROR);\n    });\n  };\n}\n\nexport function login(props){\n  debugger;\n  return (dispatch, getState) => {\n    return dispatch(loginUser(props)).then(() => {\n      return dispatch(resumeGame(props)).then(() => {\n        window.location.href = `${CLIENT_ROOT_URL}/game`;\n      })\n    })\n  }\n}\n\nexport function resumeGame(props){\n  return (dispatch, getState) => {\n    let gameId = cookie.load('user').game;\n    return dispatch(selectGame(props)).then(() => {\n      let characterId = cookie.load('user').currentCharacter;\n      return dispatch(selectCharacter({characterId}))\n    })\n  }\n}\n\nexport function register(props){\n  return (dispatch, getState) => {\n    return dispatch(registerUser(props)).then(() => {\n      return dispatch(selectGame(props)).then(() => {\n        return dispatch(registerFamily({lastName: props.characterLastName})).then(() => {\n          let primary = true\n          let familyId = cookie.load('user').family;\n          return dispatch(registerCharacter({familyId, primary, firstName: props.characterFirstName})).then(() => {\n            let characterId = cookie.load('user').currentCharacter;\n            return dispatch(selectCharacter({characterId})).then(() => {\n              window.location.href = `${CLIENT_ROOT_URL}/game`;\n              return dispatch\n            })\n          })\n        })\n      })\n    })\n  }\n}\n\nexport function selectCharacter({ characterId }) {\n  const data = {characterId}\n  const url = `/character/${characterId}/select`\n  return (dispatch) => {\n    return postData(SET_PLAYER, GAME_ERROR, true, url, dispatch, data)\n  };\n}\n\nexport function registerCharacter({primary, firstName, familyId}) {\n  const data = {name: firstName, family: familyId}\n  const url = `/character`\n  return (dispatch) => {\n    return postData(SET_PLAYER, GAME_ERROR, true, url, dispatch, data);\n  };\n}\n\nexport function registerFamily({lastName}) {\n  const data = {name:lastName}\n  const url = `/family`\n  return (dispatch) => {\n    return postData(SET_FAMILY, GAME_ERROR, true, url, dispatch, data);\n  };\n}\n\nexport function selectGame() {\n  const data = {}\n  const url = `/game/${gameId}/select`\n  return (dispatch) => {\n    return postData(SET_GAME, GAME_ERROR, true, url, dispatch, data)\n  };\n}\n\nexport function logoutUser(error) {\n  return function (dispatch) {\n    dispatch({ type: UNAUTH_USER, payload: error || '' });\n    cookie.remove('token', { path: '/' });\n    cookie.remove('user', { path: '/' });\n    window.location.href = `${CLIENT_ROOT_URL}/login`;\n  };\n}\n\nexport function getForgotPasswordToken({ email }) {\n  return function (dispatch) {\n    axios.post(`${API_URL}/auth/forgot-password`, { email })\n    .then((response) => {\n      dispatch({\n        type: FORGOT_PASSWORD_REQUEST,\n        payload: response.data.message,\n      });\n    })\n    .catch((error) => {\n      errorHandler(dispatch, error.response, AUTH_ERROR);\n    });\n  };\n}\n\nexport function resetPassword(token, { password }) {\n  return function (dispatch) {\n    axios.post(`${API_URL}/auth/reset-password/${token}`, { password })\n    .then((response) => {\n      dispatch({\n        type: RESET_PASSWORD_REQUEST,\n        payload: response.data.message,\n      });\n      // Redirect to login page on successful password reset\n      browserHistory.push('/login');\n    })\n    .catch((error) => {\n      errorHandler(dispatch, error.response, AUTH_ERROR);\n    });\n  };\n}\n\nexport function protectedTest() {\n  return function (dispatch) {\n    axios.get(`${API_URL}/protected`, {\n      headers: { Authorization: cookie.load('token') },\n    })\n    .then((response) => {\n      dispatch({\n        type: PROTECTED_TEST,\n        payload: response.data.content,\n      });\n    })\n    .catch((error) => {\n      errorHandler(dispatch, error.response, AUTH_ERROR);\n    });\n  };\n}\n","import axios from 'axios';\nimport cookie from 'react-cookie';\nimport { logoutUser } from './auth';\nimport { STATIC_ERROR, FETCH_USER, SEND_CONTACT_FORM } from './types';\nexport const API_URL = `http://${window.location.hostname}:3000/api`;\nexport const CLIENT_ROOT_URL = `http://${window.location.hostname}:8080`;\n\n//= ===============================\n// Utility actions\n//= ===============================\n\nexport function fetchUser(uid) {\n  return function (dispatch) {\n    axios.get(`${API_URL}/user/${uid}`, {\n      headers: { Authorization: cookie.load('token') },\n    })\n    .then((response) => {\n      dispatch({\n        type: FETCH_USER,\n        payload: response.data.user,\n      });\n    })\n    .catch(response => dispatch(errorHandler(response.data.error)));\n  };\n}\n\nexport function errorHandler(dispatch, error, type) {\n  console.log('Error type: ', type);\n  console.log(error);\n\n  let errorMessage = error.response ? error.response.data : error;\n\n   // NOT AUTHENTICATED ERROR\n  if (error.status === 401 || error.response.status === 401) {\n    errorMessage = 'You are not authorized to do this.';\n    return dispatch(logoutUser(errorMessage));\n  }\n\n  dispatch({\n    type,\n    payload: errorMessage,\n  });\n}\n\n// Post Request\nexport function postData(action, errorType, isAuthReq, url, dispatch, data) {\n  const requestUrl = API_URL + url;\n  let headers = {};\n\n  if (isAuthReq) {\n    headers = { withCredentials: true, headers: { Authorization: cookie.load('token') } };\n  }\n\n  return axios.post(requestUrl, data, headers)\n  .then((response) => {\n    if(response.data.user) cookie.save('user', response.data.user, { path: '/' });\n    dispatch({\n      type: action,\n      payload: response.data\n    });\n  })\n  .catch((error) => {\n    errorHandler(dispatch, error.response, errorType);\n  });\n}\n\n// Get Request\nexport function getData(action, errorType, isAuthReq, url, dispatch) {\n  const requestUrl = API_URL + url;\n  let headers = {};\n\n  if (isAuthReq) {\n    headers = { withCredentials: true, headers: { Authorization: cookie.load('token') } };\n  }\n\n  axios.get(requestUrl, headers)\n  .then((response) => {\n    dispatch({\n      type: action,\n      payload: response.data,\n    });\n  })\n  .catch((error) => {\n    errorHandler(dispatch, error.response, errorType);\n  });\n}\n\n// Put Request\nexport function putData(action, errorType, isAuthReq, url, dispatch, data) {\n  const requestUrl = API_URL + url;\n  let headers = {};\n\n  if (isAuthReq) {\n    headers = { withCredentials: true, headers: { Authorization: cookie.load('token') } };\n  }\n\n  axios.put(requestUrl, data, headers)\n  .then((response) => {\n    dispatch({\n      type: action,\n      payload: response.data,\n    });\n  })\n  .catch((error) => {\n    errorHandler(dispatch, error.response, errorType);\n  });\n}\n\n// Delete Request\nexport function deleteData(action, errorType, isAuthReq, url, dispatch) {\n  const requestUrl = API_URL + url;\n  let headers = {};\n\n  if (isAuthReq) {\n    headers = { withCredentials: true, headers: { Authorization: cookie.load('token') } };\n  }\n\n  axios.delete(requestUrl, headers)\n  .then((response) => {\n    dispatch({\n      type: action,\n      payload: response.data,\n    });\n  })\n  .catch((error) => {\n    errorHandler(dispatch, error.response, errorType);\n  });\n}\n\n//= ===============================\n// Static Page actions\n//= ===============================\nexport function sendContactForm({ name, emailAddress, message }) {\n  return function (dispatch) {\n    axios.post(`${API_URL}/communication/contact`, { name, emailAddress, message })\n    .then((response) => {\n      dispatch({\n        type: SEND_CONTACT_FORM,\n        payload: response.data.message,\n      });\n    })\n    .catch((error) => {\n      errorHandler(dispatch, error.response, STATIC_ERROR);\n    });\n  };\n}\n","import { reset } from 'redux-form';\nimport { getData, postData, putData, deleteData } from '../index';\nimport { EVENT_OPEN, EVENT_RESULT, EVENT_ANALYZE, EVENT_CLOSE, EVENT_REVIEW, GIVE_EVENT_LOCAL_PROPS, GAME_ERROR, GAME_SUCCESS } from '../types'\n\n//= ===============================\n// Character actions\n//= ===============================\n\nexport function analyzeEvent(props) {\n  const data = props;\n  return (dispatch) => {\n    dispatch({type: EVENT_ANALYZE, eventState: data })\n  }\n}\n\nexport function reviewEvent(props) {\n  const data = props;\n  return (dispatch) => {\n    dispatch({type: EVENT_REVIEW, eventState: data })\n  }\n}\n\nexport function giveEventLocalProps(props){\n  const data = props;\n  return (dispatch) => {\n    dispatch({type: GIVE_EVENT_LOCAL_PROPS, eventState: data })\n  }\n}\n\nexport function closeEventPopup(props) {\n  return (dispatch) => {\n    dispatch({type: EVENT_CLOSE})\n  };\n}\n\nexport function openEventPopup(props) {\n  return (dispatch) => {\n    dispatch({type: EVENT_OPEN})\n  };\n}\n","import { reset } from 'redux-form';\nimport { getData, postData, putData, deleteData } from '../index';\nimport { EVENT_RESULT, GAME_ERROR, GAME_SUCCESS } from '../types'\nimport { analyzeEvent } from './eventPopup'\n\n//= ===============================\n// Item actions\n//= ===============================\n\nexport function craftItem(props) {\n  const data = props;\n  const url = `/item`;\n  return (dispatch) => {\n    postData(GAME_SUCCESS, GAME_ERROR, true, url, dispatch, data);\n  };\n}\n\nexport function plantBug(props, analysis = true) {\n  const data = props;\n  const url = `/item/bug/${props.itemId}/plant`;\n  return (dispatch) => {\n  \tif(analysis) return dispatch(analyzeEvent(props))\n    postData(EVENT_RESULT, GAME_ERROR, true, url, dispatch, data);\n  };\n}\n\n//needs character that the bug was on\nexport function removeBug(props) {\n  const data = props;\n  const url = `/item/bug/${props.itemId}/remove`;\n  return (dispatch) => {\n    postData(GAME_SUCCESS, GAME_ERROR, true, url, dispatch, data);\n  };\n}\n\nexport function equipItem(props) {\n  const data = props;\n  const url = `/item/${props.itemId}/equip`;\n  return (dispatch) => {\n    postData(GAME_SUCCESS, GAME_ERROR, true, url, dispatch, data);\n  };\n}\n\nexport function unequipItem(props) {\n  const data = props;\n  const url = `/item/${props.itemId}/unequip`;\n  return (dispatch) => {\n    postData(GAME_SUCCESS, GAME_ERROR, true, url, dispatch, data);\n  };\n}","import { reset } from 'redux-form'\nimport { getData, postData, putData, deleteData } from '../index'\nimport { EVENT_RESULT, GAME_ERROR, GAME_SUCCESS } from '../types'\nimport { analyzeEvent } from './eventPopup'\n//= ===============================\n// Location actions\n//= ===============================\n\nexport function sneakThroughLocation(props) {\n  const data = props\n  const url = `/location/${props.locationId}/sneak`\n  return (dispatch) => {\n    postData(EVENT_RESULT, GAME_ERROR, true, url, dispatch, data)\n  }\n}\n\n//item and location id\nexport function stealFromLocation(props, analysis = true) {\n  const data = props\n  const url = `/location/${props.locationId}/steal/${props.itemId}`\n  return (dispatch) => {\n  \tif(analysis) return dispatch(analyzeEvent(props))\n    postData(EVENT_RESULT, GAME_ERROR, true, url, dispatch, data)\n  }\n}\n\nexport function invadeLocation(props, analysis = true) {\n  const data = props\n  const url = `/location/${props.locationId}/invade`\n  return (dispatch) => {\n  \tif(analysis) return dispatch(analyzeEvent(props))\n    postData(EVENT_RESULT, GAME_ERROR, true, url, dispatch, data)\n  }\n}\n\nexport function travelToLocation({location: { _id: locationId } }) {\n  let data = {}\n  const url = `/location/${locationId}/travel`\n  return (dispatch) => {\n    postData(EVENT_RESULT, GAME_ERROR, true, url, dispatch, data)\n  }\n}\n\nexport function messageLocation({body, location}) {\n  const data = { body, location }\n  const url = `/location/${location._id}/message`\n  return (dispatch) => {\n    postData(GAME_SUCCESS, GAME_ERROR, true, url, dispatch, data)\n  }\n}\n","import { reset } from 'redux-form';\nimport { getData, postData, putData, deleteData } from '../index';\nimport { EVENT_RESULT, GAME_ERROR, GAME_SUCCESS } from '../types'\nimport { analyzeEvent } from './eventPopup'\n\n//= ===============================\n// Character actions\n//= ===============================\n\nexport function attackCharacter(props, analysis = true) {\n  const data = props;\n  const url = `/character/{props.characterId}/attack`;\n  return (dispatch) => {\n  \tif(analysis) return dispatch(analyzeEvent(props))\n    postData(EVENT_RESULT, GAME_ERROR, true, url, dispatch, data);\n  };\n}\n\nexport function senseCharacter(props, analysis = true) {\n  const data = props;\n  const url = `/character/${props.characterId}/sense/${props.category}`;\n  return (dispatch) => {\n  \tif(analysis && props.category !== 'bug') return dispatch(analyzeEvent(props))\n    postData(EVENT_RESULT, GAME_ERROR, true, url, dispatch, data);\n  };\n}\n\nexport function recordCharacter(props) {\n  const data = props;\n  const url = `/character/${props.characterId}/record`;\n  return (dispatch) => {\n    postData(GAME_SUCCESS, GAME_ERROR, true, url, dispatch, data);\n  };\n}\n\nexport function messageCharacter(props) {\n  const data = props;\n  const url = `/character/${props.characterId}/message`;\n  return (dispatch) => {\n    postData(GAME_SUCCESS, GAME_ERROR, true, url, dispatch, data);\n    dispatch(reset('chatField'));\n  };\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { createRoutine, startRoutine, endRoutine } from '../../../../actions/Game/routine'\nimport { openEventPopup, closeEventPopup, giveEventLocalProps } from '../../../../actions/Game/eventPopup'\nimport { craftItem, plantBug, equipItem, unequipItem } from '../../../../actions/Game/item'\nimport { sneakThroughLocation, stealFromLocation, invadeLocation, travelToLocation, messageLocation } from '../../../../actions/Game/location'\nimport { attackCharacter, senseCharacter, recordCharacter, messageCharacter } from '../../../../actions/Game/character'\n\nclass EventButton extends Component {\n  handleClick() {\n    if(this.props.onClick) this.props.onClick()\n\n    //basically whatever the event passed in is called, thats the one we call with the analysis tag set to true\n    //some function wont even use an analysis tag, so im expressing that actions themselvs know if they will use a popup or not?\n    //actions themselves KNOW if they have two purposes (analysis / event)// shouldnt this component know if it has a pop or not? even shouldnt that be in the design?... its such a large change that it doesnt really matter, it will require a huge shift anyways\n    // if(this.props.event === 'travelToLocation'){\n    this.props.giveEventLocalProps(this.props)\n    this.props[this.props.event](this.props, true)\n  }\n\n  render() {\n    let event = this.props.event\n    let category = this.props.category\n    let text = event\n    switch(event){\n      case 'travelToLocation':\n        text = 'Travel here'\n      break;\n      case 'senseCharacter': \n        let target = category.substr(5).toLowerCase()\n        text = 'Sense ' + target\n      break; \n      case 'createRoutine':\n        switch(this.props.category){\n          case 'guard':\n            text = 'Guard'\n          break;\n          case 'herd': \n            text = 'Herd animals'\n          break;\n          case 'woodcut': \n            text = 'Cut wood'\n          break;\n          case 'mine':\n            text = 'Mine ore'\n          break;\n          default:\n            let skill = category.substr(5).toLowerCase()\n            text = 'Train ' + skill\n          break;\n        }\n      break; \n    }\n    return (\n      <div onClick={this.handleClick.bind(this)}>\n      {text}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {...ownProps}\n}\n\nconst mapDispatchToProps = {\n  createRoutine,\n  startRoutine,\n  endRoutine,\n  openEventPopup,\n  closeEventPopup,\n  giveEventLocalProps,\n  craftItem,\n  plantBug,\n  equipItem,\n  unequipItem,\n  sneakThroughLocation,\n  stealFromLocation,\n  travelToLocation,\n  invadeLocation, \n  messageLocation,\n  attackCharacter,\n  senseCharacter,\n  recordCharacter,\n  messageCharacter\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EventButton);\n","import { reset } from 'redux-form';\nimport { getData, postData, putData, deleteData } from '../index';\nimport { EVENT_RESULT, GAME_ERROR, GAME_SUCCESS } from '../types'\n\n//= ===============================\n// Character actions\n//= ===============================\n\nexport function createRoutine({location, category}) {\n  const data = {location, category}\n  const url = `/routine`;\n  return (dispatch) => {\n    postData(GAME_SUCCESS, GAME_ERROR, true, url, dispatch, data)\n  };\n}\n\nexport function startRoutine(props) {\n  const data = props;\n  const url = `/routine/${props.routineId}/start`;\n  return (dispatch) => {\n    postData(GAME_SUCCESS, GAME_ERROR, true, url, dispatch, data);\n  };\n}\n\nexport function endRoutine(props) {\n  const data = props;\n  const url = `/routine/${props.routineId}/end`;\n  return (dispatch) => {\n    postData(GAME_SUCCESS, GAME_ERROR, true, url, dispatch, data);\n  };\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { createRoutine, startRoutine, endRoutine } from '../../../../actions/Game/routine'\nimport { openEventPopup, closeEventPopup } from '../../../../actions/Game/eventPopup'\nimport { craftItem, plantBug, removeBug, equipItem, unequipItem } from '../../../../actions/Game/item'\nimport { sneakThroughLocation, stealFromLocation, invadeLocation, travelToLocaton, messageLocation } from '../../../../actions/Game/location'\nimport { attackCharacter, senseCharacter, recordCharacter, messageCharacter } from '../../../../actions/Game/character'\n\nimport socket from '../../../../actions/socket'\n\nclass EventPopup extends Component {\n  constructor(props){\n    super(props)\n    this.state = {}\n    if(props.eventState.event === 'travelToLocation'){\n      let TT = Date.now() - props.eventState.travelStart\n      this.state.secondsRemaining = Math.ceil((props.eventState.travelTime - TT)/1000) - 1\n    }\n  }\n\n  tick() {\n    this.setState({secondsRemaining: this.state.secondsRemaining - 1});\n    if (this.state.secondsRemaining <= 0) {\n      clearInterval(this.interval)\n    }\n  }\n\n  componentDidMount() {\n    if(this.props.eventState.event === 'travelToLocation') {\n      this.interval = setInterval(this.tick.bind(this), 1000)\n      socket.on('arrived', () => {\n        this.props.closeEventPopup()\n      })\n    }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n\tconfirm(){\n    //the acton itself will be in the props\n\t\tthis.props[this.props.event](Object.assign({}, this.state, this.props), false)\n\t}\n\n\texit(){\n\t\tthis.props.closeEventPopup()\n\t}\n\n  render_travelToLocation(){\n    let text\n    \n    if(this.state.secondsRemaining >= 1) text = `You will arrive @ ${this.props.eventState.location.name} in ${this.state.secondsRemaining} seconds`\n    else text = 'Arriving...'\n\n    return (\n      <div className='TravelToLocation'>\n      {text}\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className='EventPopup-container'>\n        <div className='EventPopup'>\n          {this['render_' + this.props.eventState.event]()}\n      \t</div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  openEventPopup,\n  closeEventPopup,\n  plantBug,\n  sneakThroughLocation,\n  stealFromLocation,\n  invadeLocation, \n  attackCharacter,\n  senseCharacter\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    ...ownProps,\n  \teventState: { ...state.eventState, ...ownProps.eventState }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EventPopup);\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport { messageLocation } from '../../../../actions/Game/location'\nimport { messageCharacter } from '../../../../actions/Game/character'\n\nconst ENTER_KEY = 13\n\nclass EventPopup extends Component {\n  constructor(props){\n    super(props)\n    this.state = { body: '' }\n    this._handleKeyDown = this._handleKeyDown.bind(this)\n  }\n\n  _handleKeyDown (event){\n    switch( event.keyCode ) {\n      case ENTER_KEY:\n        if(this.props.recipientModel === 'location'){\n          this.props.messageLocation({body: this.state.body, location: this.props.location})\n        }else if(this.props.recipientModel === 'character'){\n          this.props.messageCharacter({body: this.state.body, location: this.props.character})\n        }\n        let state = this.state\n        state.body = ''\n        this.setState(state)\n        break;\n    }\n  }\n\n  updateBody (event){\n    var state = this.state\n    state.body = event.target.value\n    this.setState(state)\n  }\n\n  componentWillMount(){\n    document.addEventListener(\"keydown\", this._handleKeyDown)\n  }\n\n  componentWillUnmount(){\n    document.removeEventListener(\"keydown\", this._handleKeyDown)\n  }\n\n  render() {\n    return (\n      <div className='ChatInput'>\n        <input value={this.state.body} onChange={(e) => this.updateBody(e)}/>\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = {\n  messageLocation,\n  messageCharacter\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    ...ownProps\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EventPopup)\n","import React, { Component } from 'react';\n\nimport CharacterSummary from '../CharacterSummary'\nimport LocationSummary from '../LocationSummary'\nimport WorldSummary from '../WorldSummary'\n\nimport AbilityListItem from '../ListItems/ability'\nimport CharacterListItem from '../ListItems/character'\nimport ItemListItem from '../ListItems/item'\nimport LocationListItem from '../ListItems/location'\nimport RecordListItem from '../ListItems/record'\nimport MessageListItem from '../ListItems/message'\nimport SkillListItem from '../ListItems/skill'\nimport ChatListItem from '../ListItems/chat'\n\nimport EventButton from '../EventButton'\nimport EventPopup from '../EventPopup'\n\nimport ChatInput from '../ChatInput'\n\nimport socket from '../../../../actions/socket'\n\nclass GameCard extends Component {\n\tconstructor(){\n\t\tsuper()\n\t\tthis.state = {\n\t\t\tsummaryView: 'location',\n\t\t\tlistView: 'scene',\n\t\t\tselectedCharacter: null,\n      selectedItem: null,\n      selectedLocation: null,\n      scene: [],\n      relationship: []\n    }\n\t}\n\n  componentWillMount(){\n    socket.on('add to scene', (sceneItems) => {\n      let state = this.state\n      sceneItems.forEach((sceneItem) => {\n        if(sceneItem.location){\n          state.scene.push(sceneItem)\n        }else if(sceneItem.recipient){\n          state.relationship.push(sceneItem)\n        }\n      })\n      this.setState(state)\n    })\n    socket.on('arrived', () => {\n      let state = this.state\n      state.scene = []\n      this.setState(state)\n      socket.emit('get scene')\n    })\n    socket.on('joined game', () => {\n      socket.emit('get scene')\n    })\n\n    if(socket.authenticated){\n      socket.emit('join game')\n    }else{\n      socket.on('authenticated', () => {\n        socket.emit('join game')\n      })\n    }\n    // socket.emit('get messages from current location')\n  }\n\n\tgoToCharacterSummary(character) {\n\t\tlet state = this.state\n\t\tstate.summaryView = 'character'\n    state.listView = 'records'\n\t\tstate.selectedCharacter = character\n    state.relationship = []\n\t\tthis.setState(state)\n\t}\n\n  goToWorldSummary(){\n    let state = this.state\n    state.summaryView = 'world'\n    state.listView = 'locations'\n    this.setState(state)\n  }\n\n  goToLocationSummary(){\n    let state = this.state\n    state.summaryView = 'location'\n    state.listView = 'scene'\n    this.setState(state)\n  }\n\n  selectLocation(location){\n    let state = this.state\n    state.selectedLocation = location\n    this.setState(state)\n  }\n\n  selectItem(item){\n    let state = this.state\n    state.selectedItem = item\n    this.setState(state)\n  }\n\n  goToListView(name){\n    let state = this.state\n    state.listView = name\n    this.setState(state)\n  }\n\n  render() {\n  \tif(!this.props.playerState && !this.props.worldState){\n  \t\treturn (\n  \t\t\t<div>{'Loading...'}</div>\n  \t\t)\n  \t}\n\n    let player = this.props.playerState\n  \tlet currentLocation = player.currentLocation\n  \tlet selectedCharacter = this.state.selectedCharacter\n    let selectedItem = this.state.selectedItem\n    let selectedLocation = this.state.selectedLocation\n    let world = this.props.worldState\n    let scene = this.state.scene\n    let relationship = this.state.relationship\n\n  \tlet summary\n    let back\n  \tif(this.state.summaryView === 'location'){\n  \t\tsummary = <LocationSummary location={currentLocation}/>\n      back = this.goToWorldSummary\n  \t}else if (this.state.summaryView === 'character'){\n  \t\tsummary = <CharacterSummary character={selectedCharacter}/>\n      back = this.goToLocationSummary\n  \t}else if (this.state.summaryView === 'world'){\n      summary = <WorldSummary {...this.props.worldState} />\n      back = this.goToLocationSummary\n    }\n\n  \tlet list = []\n    //real statement below\n    //this.state.listView === 'characters' && \n  \tif(this.state.summaryView !== 'world'  && this.state.summaryView !== 'character'){\n  \t\tlist = currentLocation.characters.map((character) => {\n  \t\t\treturn (\n  \t\t\t\t<CharacterListItem goToSummary={this.goToCharacterSummary.bind(this, character)} character={character}/>\n  \t\t\t)\n  \t\t})\n  \t}\n    if(this.state.listView === 'locations'){\n      list = world.locations.map((location) => {\n        if(this.props.design.LOCATIONS[location.category].PRIVATE && !this.props.design.LOCATIONS[location.category].ACCESSIBLE(this.props.playerState, location)){\n          return null\n        } else {\n          return (\n            <LocationListItem select={this.selectLocation.bind(this, location)} location={location}/>\n          )\n        }\n      })\n    }\n    if(this.state.listView === 'scene'){\n      if(this.state.summaryView ==='location'){\n        list = scene.map((sceneItem) => {\n          if(sceneItem.category === 'message'){\n             return (\n              <MessageListItem message={sceneItem}></MessageListItem>\n            ) \n          }else if(sceneItem.category === 'record'){\n            return (\n              <RecordListItem record={sceneItem}></RecordListItem>\n            )\n          }\n\n        })\n      }else{\n        list = relationship.map((message) => {\n          return (\n            <MessageListItem message={message}></MessageListItem>\n          )\n        })\n      }\n\n    }\n\n    let chat\n    if(this.state.summaryView === 'location'){\n      chat = <ChatInput recipientModel='location' location={currentLocation}/>\n    }else if(this.state.summaryView === 'character'){\n      chat = <ChatInput recipientModel='character' location={selectedCharacter}/>\n    }\n\n    let events = []\n    if(this.state.summaryView === 'world' && selectedLocation){\n      events.push( <EventButton event='travelToLocation' onClick={this.goToLocationSummary.bind(this)} location={selectedLocation}></EventButton> )\n    }\n\n    if(this.state.summaryView === 'location' && currentLocation){\n      events = this.props.design.LOCATIONS[currentLocation.category].EVENTS.map((event) => {\n        if(event.constructor == Function) event = event(player, currentLocation)\n        switch(event){\n          case 'trainWarfare': \n          case 'trainStealth': \n          case 'trainMagic': \n          case 'guard':\n          case 'herd': \n          case 'woodcut': \n          case 'mine':\n            return <EventButton event='createRoutine' category={event} location={currentLocation}></EventButton>\n          break;\n          case 'sneak':\n            return <EventButton event='sneakThroughLocation' location={currentLocation}></EventButton>\n          break;\n          case 'steal':\n            return <EventButton event='stealFromLocation' location={currentLocation} item={selectedItem}></EventButton>\n          break;\n          case 'invade':\n            return <EventButton event='invadeLocation' location={currentLocation}></EventButton>\n          break;\n          case 'equip':\n            return <EventButton event='equipItem' item={selectedItem}></EventButton>\n          break;  \n          case 'craft':\n            return <EventButton event='craftItem' item={selectedItem}></EventButton>\n          break;  \n        }\n      })\n    }\n\n    if(this.state.summaryView === 'character' && selectedCharacter){\n      events = this.props.design.CHARACTERS.EVENTS.map((event) => {\n        if(event.constructor == Function) event = event(player, selectedCharacter)\n        switch(event){\n          case 'senseBug':\n          case 'senseSkill':\n          case 'senseCharm':\n            return <EventButton event='senseCharacter' category={event} character={selectedCharacter}></EventButton>\n          break;\n          case 'attack':\n            return <EventButton event='attackCharacter' character={selectedCharacter}></EventButton>\n          break;\n          case 'record':\n            return <EventButton event='recordCharacter' character={selectedCharacter}></EventButton>\n          break;\n          case 'plantBug':\n            return <EventButton event='plantBug' character={selectedCharacter}></EventButton>\n          break;  \n          case 'unequip':\n            return <EventButton event='unequipItem' item={selectedItem}></EventButton>\n          break;\n        }\n      })\n    }\n\n          // <div onClick={this.goToListView.bind(this, 'characters')}> {'See Everyone Here >'}</div>\n\n    return (\n      <div className=\"GameCard\">\n        <div onClick={back.bind(this)}> {'< Go Back'}</div>\n        <div className='SummaryContainer'>\n          {summary}\n        </div>\n        <div className='ListContainer'>\n      \t {list}\n        </div>\n        <div className='EventsContainer'>\n          <div className='ChatInputContainer'>\n            {chat}\n          </div>\n          {events}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default GameCard;","import React, { Component } from 'react';\nimport GameCard from './GameCard'\nimport { connect } from 'react-redux';\nimport EventPopup from './EventPopup'\n\nclass Game extends Component {\n  render() {\n    return (\n      <div className=\"Game\">\n        { this.props.eventState.open ? <EventPopup {...this.props}></EventPopup> : null }\n      \t<GameCard {...this.props}></GameCard>\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    kingdom: state.kingdom,\n    player: state.game.player,\n    game: state.game.game,\n    family: state.game.family,\n    playerState: state.game.playerState,\n    worldState: state.game.worldState,\n    eventState: state.eventState,\n    design: state.game.design\n  }\n}\n\nexport default connect(mapStateToProps)(Game);\n","import React from 'react';\nimport { Route, IndexRoute } from 'react-router';\n\n// Import higher order components\nimport RequireAuth from '../auth/require_auth';\n\nimport Game from './components/index.js'\n\nexport default (\n  <Route path='game'>\n    <IndexRoute component={Game} />\n  </Route>\n);\n    // <Route path='messages' component={RequireAuth(Messages)} />\n    // <Route path='character/:name/attack' component={RequireAuth(AttackCharacter)} />\n    // <Route path='location/:name' component={RequireAuth(Location)} />\n    // <Route path='location/:name/charms' component={RequireAuth(Charms)} />\n    // <Route path='location/:name/supply' component={RequireAuth(Supply)} />\n    // <Route path='location/:name/occupants' component={RequireAuth(Occupants)} />\n    // <Route path='location/:name/attack' component={RequireAuth(SendTroops)} />\n    // <Route path='location/:name/steal' component={RequireAuth(Steal)} />\n    // <Route path='location/:name/sneak' component={RequireAuth(Sneak)} />","import React, { Component } from 'react';\n\nclass NotFoundPage extends Component {\n\n  render() {\n    return (\n      <div>\n        <h1>404 - Page Not Found</h1>\n        <p>I'm sorry, the page you were looking for cannot be found!</p>\n      </div>\n    );\n  }\n}\n\nexport default NotFoundPage;\n","import React, { Component } from 'react';\n\nclass HomePage extends Component {\n  render() {\n    return (\n      <div>Hello world! This is the home page route.</div>\n    );\n  }\n}\n\nexport default HomePage;\n","import React, { Component } from 'react';\nimport { reduxForm } from 'redux-form';\nimport { sendContactForm } from '../../actions/index';\n\nclass ContactPage extends Component {\n  handleFormSubmit({ firstName, lastName, emailAddress, subject, message }) {\n    this.props.sendContactForm({ firstName, lastName, emailAddress, subject, message });\n  }\n\n  renderAlert() {\n    if (this.props.errorMessage) {\n      return (\n        <div className=\"alert alert-danger\">\n          <strong>Oops!</strong> {this.props.errorMessage}\n        </div>\n      );\n    }\n  }\n\n  renderMessage() {\n    if (this.props.message) {\n      return (\n        <div className=\"alert alert-success\">\n          <strong>Success!</strong> {this.props.message}\n        </div>\n      );\n    }\n  }\n\n  render() {\n    const { handleSubmit, fields: { firstName, lastName, emailAddress, subject, message } } = this.props;\n\n    return (\n      <form onSubmit={handleSubmit(this.handleFormSubmit.bind(this))}>\n        {this.renderMessage()}\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <fieldset className=\"form-group\">\n              <label>First Name</label>\n              <input {...firstName} className=\"form-control\" />\n            </fieldset>\n          </div>\n\n          <div className=\"col-md-6\">\n            <fieldset className=\"form-group\">\n              <label>Last Name</label>\n              <input {...lastName} className=\"form-control\" />\n            </fieldset>\n          </div>\n        </div>\n\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <fieldset className=\"form-group\">\n              <label>Email Address</label>\n              <input {...emailAddress} className=\"form-control\" />\n            </fieldset>\n          </div>\n        </div>\n\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <fieldset className=\"form-group\">\n              <label>Subject</label>\n              <input {...subject} className=\"form-control\" />\n            </fieldset>\n          </div>\n        </div>\n\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <fieldset className=\"form-group\">\n              <label>Message</label>\n              <textarea {...message} className=\"form-control\" />\n            </fieldset>\n          </div>\n        </div>\n        {this.renderAlert()}\n        <button action=\"submit\" className=\"btn btn-primary\">Send</button>\n      </form>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return { errorMessage: state.communication.error,\n    message: state.communication.message,\n    authenticated: state.auth.authenticated };\n}\n\nexport default reduxForm({\n  form: 'contactForm',\n  fields: ['firstName', 'lastName', 'emailAddress', 'subject', 'message'],\n}, mapStateToProps, { sendContactForm })(ContactPage);\n","import React, { Component } from 'react';\nimport { Link } from 'react-router';\n\nclass PricingTable extends Component {\n  render() {\n    const componentStyle = {\n      backgroundColor: this.props.color || '#5BC0DE',\n      color: this.props.fontColor || '#FFF',\n    };\n\n    return (\n      <div className=\"pricing-table\">\n        <div className=\"col-md-4 col-sm-6 col-xs-12 float-shadow\">\n          <div className=\"price_table_container\">\n            <div className=\"price_table_heading\">{this.props.planName}</div>\n            <div className=\"price_table_body\">\n              <div className=\"price_table_row cost\" style={componentStyle}><strong>{this.props.price}</strong><span>/MONTH</span></div>\n              {this.props.features.map((data, index) => <div key={`${data}-${index}`} className=\"price_table_row\">\n                {data}\n              </div>)}\n            </div>\n            <Link to={`checkout/${(this.props.planName).toLowerCase()}`} className=\"btn btn-lg btn-block\" style={componentStyle}>Subscribe!</Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PricingTable;\n","import React, { Component } from 'react';\n\nclass SocialMediaBar extends Component {\n  render() {\n    return (\n      <div className=\"social-bar\">\n        <ul>\n          {this.props.socialNetworks.map((data, index) => <li key={`${data}-${index}`} className=\"social-icon\">\n            <a title={data.name} href={data.href}><img alt={data.name} src={data.img} /></a>\n          </li>)}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default SocialMediaBar;\n","import React, { Component } from 'react';\n\nclass RotatorItem extends Component {\n  render() {\n    return (\n      <div className=\"slide\">\n        {this.props.selectedSlide.map((rotator, index) => (\n          <div className=\"rotator-item\" key={`${index}-${rotator.headline}`}>\n            <img className=\"rotator-image\" src={rotator.img} />\n            {rotator.headline ? `<h3>${rotator.headline}</h3>` : ''}\n            <div className=\"rotator-text-container\">\n              <p className=\"rotator-text\">{rotator.text}</p>\n              <p className=\"rotator-author\">{rotator.author}</p>\n            </div>\n          </div>\n          ))}\n      </div>\n    );\n  }\n}\n\nexport default RotatorItem;\n","import React, { Component } from 'react';\n\nclass RotatorNav extends Component {\n  renderNav() {\n    const toMap = [];\n\n    for (let i = 0; i < this.props.length; i++) {\n      toMap.push(\n        <li\n          key={`${i}nav`}\n          value={i}\n          className={i == this.props.active ? 'slider-nav-bullet active' : 'slider-nav-bullet'}\n          onClick={this.props.setPage}\n        />,\n      );\n    }\n    return toMap;\n  }\n\n  render() {\n    return (\n      <ul>\n        {this.renderNav()}\n      </ul>\n    );\n  }\n}\n\nexport default RotatorNav;\n","import React, { Component } from 'react';\n\nimport RotatorItem from './rotator-item';\nimport RotatorNav from './rotator-nav';\n\nclass Rotator extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setPage = this.setPage.bind(this);\n    this.state = {\n      index: 0,\n    };\n  }\n\n  setPage(e) {\n    this.setState({ index: e.target.value });\n  }\n\n  render() {\n    const selectedSlide = this.props.rotators.filter(function (slider, index) {\n      return index == this.state.index;\n    }, this);\n\n    return (\n      <div className=\"rotator-container\">\n        <RotatorItem selectedSlide={selectedSlide} />\n        <RotatorNav length={this.props.rotators.length} active={this.state.index} setPage={this.setPage} />\n      </div>\n    );\n  }\n}\n\nexport default Rotator;\n","import React, { Component } from 'react';\n\nimport PricingTable from '../sales/pricing-table';\nimport SocialMediaBar from '../sales/social-media-bar';\nimport Rotator from '../sales/rotator';\n\nconst bronzeFeatures = ['Really cool', 'Pretty cheap', 'Awesome'];\nconst silverFeatures = ['A couple features', 'Pretty neat'];\nconst goldFeatures = ['A bit cooler yet'];\nconst social = [\n  {\n    name: 'Facebook',\n    href: 'http://facebook.com/',\n    img: 'http://localhost:8080/src/public/img/icons/facebook.svg',\n  },\n  {\n    name: 'Twitter',\n    href: 'http://twitter.com/',\n    img: 'http://localhost:8080/src/public/img/icons/twitter.svg',\n  },\n];\n\nconst rotators = [\n  {\n    img: '',\n    headline: '',\n    text: 'I love React!',\n    author: 'JS',\n  },\n  {\n    img: '',\n    headline: '',\n    text: 'MERN stack is pretty cool.',\n    author: 'DM',\n  },\n];\n\nclass ComponentSamplesPage extends Component {\n  render() {\n    return (\n      <div className=\"select-plan\">\n        <div className=\"row\">\n          <PricingTable planName=\"Bronze\" color=\"#CCC\" price=\"$10\" features={bronzeFeatures} />\n          <PricingTable planName=\"Silver\" price=\"$15\" features={silverFeatures} />\n          <PricingTable planName=\"Gold\" price=\"$20\" features={goldFeatures} />\n        </div>\n\n        <SocialMediaBar socialNetworks={social} />\n\n        <Rotator rotators={rotators} />\n      </div>\n    );\n  }\n}\n\nexport default ComponentSamplesPage;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Field, reduxForm } from 'redux-form';\nimport { register } from '../../actions/auth';\n\nconst form = reduxForm({\n  form: 'register',\n  validate,\n});\n\nconst renderField = field => (\n  <div>\n    <input className=\"form-control\" {...field.input} />\n    {field.touched && field.error && <div className=\"error\">{field.error}</div>}\n  </div>\n);\n\nfunction validate(formProps) {\n  const errors = {};\n\n  if (!formProps.firstName) {\n    errors.firstName = 'Please enter a first name';\n  }\n\n  if (!formProps.lastName) {\n    errors.lastName = 'Please enter a last name';\n  }\n\n  if (!formProps.email) {\n    errors.email = 'Please enter an email';\n  }\n\n  if (!formProps.password) {\n    errors.password = 'Please enter a password';\n  }\n\n  return errors;\n}\n\nclass Register extends Component {\n  handleFormSubmit(formProps) {\n    this.props.register(formProps);\n  }\n\n  renderAlert() {\n    if (this.props.errorMessage) {\n      return (\n        <div>\n          <span><strong>Error!</strong> {this.props.errorMessage}</span>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    const { handleSubmit } = this.props;\n\n    return (\n      <form onSubmit={handleSubmit(this.handleFormSubmit.bind(this))}>\n        {this.renderAlert()}\n        <div className=\"row\">\n          User:\n          <div className=\"col-md-6\">\n            <label>First Name</label>\n            <Field name=\"firstName\" className=\"form-control\" component={renderField} type=\"text\" />\n          </div>\n          <div className=\"col-md-6\">\n            <label>Last Name</label>\n            <Field name=\"lastName\" className=\"form-control\" component={renderField} type=\"text\" />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <label>Email</label>\n            <Field name=\"email\" className=\"form-control\" component={renderField} type=\"text\" />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <label>Password</label>\n            <Field name=\"password\" className=\"form-control\" component={renderField} type=\"password\" />\n          </div>\n        </div>\n\n        <div className=\"row\">\n          Character:\n          <div className=\"col-md-6\">\n            <label>First Name</label>\n            <Field name=\"characterFirstName\" className=\"form-control\" component={renderField} type=\"text\" />\n          </div>\n          <div className=\"col-md-6\">\n            <label>Last Name</label>\n            <Field name=\"characterLastName\" className=\"form-control\" component={renderField} type=\"text\" />\n          </div>\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary\">Register</button>\n      </form>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    errorMessage: state.auth.error,\n    message: state.auth.message,\n    authenticated: state.auth.authenticated,\n  };\n}\n\nexport default connect(mapStateToProps, { register })(form(Register));\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Field, reduxForm } from 'redux-form';\nimport { Link } from 'react-router';\nimport { login } from '../../actions/auth';\n\nconst form = reduxForm({\n  form: 'login',\n});\n\nclass Login extends Component {\n  handleFormSubmit(formProps) {\n    this.props.login(formProps);\n  }\n\n  renderAlert() {\n    if (this.props.errorMessage) {\n      return (\n        <div>\n          <span><strong>Error!</strong> {this.props.errorMessage}</span>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    const { handleSubmit } = this.props;\n\n    return (\n      <div>\n        <form onSubmit={handleSubmit(this.handleFormSubmit.bind(this))}>\n          {this.renderAlert()}\n          <div>\n            <label>Email</label>\n            <Field name=\"email\" className=\"form-control\" component=\"input\" type=\"text\" />\n          </div>\n          <div>\n            <label>Password</label>\n            <Field name=\"password\" className=\"form-control\" component=\"input\" type=\"password\" />\n          </div>\n          <button type=\"submit\" className=\"btn btn-primary\">Login</button>\n        </form>\n        <Link to=\"/forgot-password\">Forgot Password?</Link>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    errorMessage: state.auth.error,\n    message: state.auth.message,\n    authenticated: state.auth.authenticated,\n  };\n}\n\nexport default connect(mapStateToProps, { login })(form(Login));\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/auth';\n\nclass Logout extends Component {\n  componentWillMount() {\n    this.props.logoutUser();\n  }\n\n  render() {\n    return <div>Sorry to see you go!</div>;\n  }\n}\n\nexport default connect(null, actions)(Logout);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Field, reduxForm } from 'redux-form';\nimport { getForgotPasswordToken } from '../../actions/auth';\n\nconst form = reduxForm({\n  form: 'forgotPassword',\n});\n\nclass ForgotPassword extends Component {\n  static contextTypes = {\n    router: React.PropTypes.object,\n  }\n\n  componentWillMount() {\n    if (this.props.authenticated) {\n      this.context.router.push('/dashboard');\n    }\n  }\n\n  componentWillUpdate(nextProps) {\n    if (nextProps.authenticated) {\n      this.context.router.push('/dashboard');\n    }\n  }\n\n  handleFormSubmit(formProps) {\n    this.props.getForgotPasswordToken(formProps);\n  }\n\n  renderAlert() {\n    if (this.props.errorMessage) {\n      return (\n        <div>\n          <span><strong>Error!</strong> {this.props.errorMessage}</span>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    const { handleSubmit } = this.props;\n\n    return (\n      <form onSubmit={handleSubmit(this.handleFormSubmit.bind(this))}>\n        <div>\n          {this.renderAlert()}\n          <label>Email</label>\n          <Field name=\"email\" className=\"form-control\" component=\"input\" type=\"text\" />\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary\">Reset Password</button>\n      </form>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    errorMessage: state.auth.error,\n    message: state.auth.message,\n    authenticated: state.auth.authenticated,\n  };\n}\n\nexport default connect(mapStateToProps, { getForgotPasswordToken })(form(ForgotPassword));\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Field, reduxForm } from 'redux-form';\nimport { resetPassword } from '../../actions/auth';\n\nconst form = reduxForm({\n  form: 'resetPassword',\n  validate,\n});\n\nfunction validate(formProps) {\n  const errors = {};\n\n  if (!formProps.password) {\n    errors.password = 'Please enter a new password';\n  }\n\n  if (!formProps.passwordConfirm) {\n    errors.passwordConfirm = 'Please confirm new password';\n  }\n\n  if (formProps.password !== formProps.passwordConfirm) {\n    errors.password = 'Passwords must match';\n  }\n\n  return errors;\n}\n\nconst renderField = field => (\n  <div>\n    <input className=\"form-control\" {...field.input} />\n    {field.touched && field.error && <div className=\"error\">{field.error}</div>}\n  </div>\n);\n\nclass ResetPassword extends Component {\n  static contextTypes = {\n    router: React.PropTypes.object,\n  }\n\n  componentWillMount() {\n    if (this.props.authenticated) {\n      this.context.router.push('/dashboard');\n    }\n  }\n\n  componentWillUpdate(nextProps) {\n    if (nextProps.authenticated) {\n      this.context.router.push('/dashboard');\n    }\n  }\n\n  handleFormSubmit({ password }) {\n    const resetToken = this.props.params.resetToken;\n    this.props.resetPassword(resetToken, { password });\n  }\n\n  renderAlert() {\n    if (this.props.errorMessage) {\n      return (\n        <div className=\"alert alert-danger\">\n          <strong>Oops!</strong> {this.props.errorMessage}\n        </div>\n      );\n    } else if (this.props.message) {\n      return (\n        <div className=\"alert alert-success\">\n          <strong>Success!</strong> {this.props.message}\n        </div>\n      );\n    }\n  }\n\n  render() {\n    const { handleSubmit } = this.props;\n\n    const { passwordConfirm } = this.state;\n    \n    return (\n      <form onSubmit={handleSubmit(this.handleFormSubmit.bind(this))}>\n        <fieldset className=\"form-group\">\n          <label>New Password:</label>\n          <Field name=\"password\" component={renderField} type=\"password\" />\n        </fieldset>\n\n        <fieldset className=\"form-group\">\n          <label>Confirm New Password:</label>\n          <Field name=\"passwordConfirm\" component={renderField} type=\"password\" />\n          {passwordConfirm.touched && passwordConfirm.error && <div className=\"error\">{passwordConfirm.error}</div>}\n        </fieldset>\n\n        {this.renderAlert()}\n        <button action=\"submit\" className=\"btn btn-primary\">Change Password</button>\n      </form>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return { errorMessage: state.auth.error, message: state.auth.resetMessage };\n}\n\nexport default connect(mapStateToProps, { resetPassword })(form(ResetPassword));\n","import React, { Component } from 'react';\nimport { Link } from 'react-router';\nimport { connect } from 'react-redux';\nimport cookie from 'react-cookie';\nimport { protectedTest } from '../../actions/auth';\n\nclass Dashboard extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.props.protectedTest();\n  }\n\n  isRole(roleToCheck, toRender) {\n    const userRole = cookie.load('user').role;\n\n    if (userRole == roleToCheck) {\n      return toRender;\n    }\n\n    return false;\n  }\n\n  adminMenu() {\n    return (\n      <div className=\"admin-menu\">\n        <Link to=\"/admin\">Admin</Link>\n      </div>\n    );\n  }\n\n  ownerMenu() {\n    return (\n      <div className=\"trainer-menu\">\n        Owner menu coming soon.\n      </div>\n    );\n  }\n\n  clientMenu() {\n    return (\n      <div className=\"client-menu\">\n        Client menu coming soon.\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <Link to=\"/dashboard/inbox\">Inbox</Link> | <Link to=\"/profile/edit\">Edit Profile</Link> | <Link to=\"/billing/settings\">Billing</Link>\n        {this.isRole('Admin', this.adminMenu())}\n        {this.isRole('Owner', this.ownerMenu())}\n        {this.isRole('Client', this.clientMenu())}\n        <p>{this.props.content}</p>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return { content: state.auth.content };\n}\n\nexport default connect(mapStateToProps, { protectedTest })(Dashboard);\n","import React, { Component } from 'react';\n\nclass UserInfo extends Component {\n  render() {\n    return (\n      <div>\n        {this.props.profile}\n      </div>\n    );\n  }\n}\n\nexport default UserInfo;\n","import React, { Component } from 'react';\nimport cookie from 'react-cookie';\nimport { connect } from 'react-redux';\nimport { fetchUser } from '../../../actions/index';\n\nimport UserInfo from './user-info';\n\nclass ViewProfile extends Component {\n  componentWillMount() {\n    // Fetch user data prior to component mounting\n    const userId = cookie.load('uid');\n    this.props.fetchUser(userId);\n  }\n\n  render() {\n    return (\n      <UserInfo profile={this.props.profile.email} />\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    profile: state.user.profile,\n  };\n}\n\nexport default connect(mapStateToProps, { fetchUser })(ViewProfile);\n","import React, { Component } from 'react';\n\nclass ConversationItem extends Component {\n  render() {\n    return (\n      <div className=\"message\">\n        <a href={`/dashboard/conversation/view/${this.props.conversationId}`}>\n          <span className=\"message-body\">{this.props.message}</span>\n          <br />\n          <span className=\"message-byline\">From {this.props.author} | {this.props.timestamp}</span>\n        </a>\n      </div>\n    );\n  }\n}\n\nexport default ConversationItem;\n","import React, { Component } from 'react';\nimport cookie from 'react-cookie';\nimport ConversationItem from './conversation-item';\n\nconst moment = require('moment');\n\n\nclass ConversationList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.userCookie = cookie.load('user');\n  }\n\n  render() {\n    const currentUser = this.userCookie._id;\n\n    return (\n      <div className=\"messages\">\n        {this.props.conversations.map(data => data.map(message => (\n          <ConversationItem\n            key={message._id}\n            message={message.body}\n            authorId={message.author._id}\n            conversationId={message.conversationId}\n            author={`${message.author.profile.firstName} ${message.author.profile.lastName.substring(0, 1)}.`}\n            timestamp={moment(message.createdAt).from(moment())}\n          />\n            )))}\n      </div>\n    );\n  }\n}\n\nexport default ConversationList;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router';\nimport { fetchConversations } from '../../../actions/messaging';\n\nimport ConversationList from './conversation-list';\n\nclass Inbox extends Component {\n  componentWillMount() {\n    // Fetch inbox (conversations involving current user)\n    this.props.fetchConversations();\n  }\n\n  renderInbox() {\n    if (this.props.conversations && this.props.conversations.length > 0) {\n      return (\n        <ConversationList conversations={this.props.conversations} />\n      );\n    }\n\n    return <div>You do not have any active conversations.</div>;\n  }\n\n  render() {\n    return (\n      <div>\n        <Link className=\"btn btn-primary\" to=\"/dashboard/conversation/new\">Compose Message</Link>\n        <div className=\"panel panel-default\">\n          <div className=\"panel-body\">\n            {this.renderInbox()}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    conversations: state.communication.conversations,\n  };\n}\n\nexport default connect(mapStateToProps, { fetchConversations })(Inbox);\n","import { reset } from 'redux-form';\nimport { browserHistory } from 'react-router';\nimport { getData, postData, putData, deleteData } from './index';\nimport { CHAT_ERROR, FETCH_CONVERSATIONS, FETCH_RECIPIENTS, START_CONVERSATION, SEND_REPLY, FETCH_SINGLE_CONVERSATION } from './types';\nimport socket from './socket'\n// Connect to socket.io server\n\n//= ===============================\n// Messaging actions\n//= ===============================\nexport function fetchConversations() {\n  const url = '/chat';\n  return dispatch => getData(FETCH_CONVERSATIONS, CHAT_ERROR, true, url, dispatch);\n}\n\nexport function fetchConversation(conversation) {\n  const url = `/chat/${conversation}`;\n  return dispatch => getData(FETCH_SINGLE_CONVERSATION, CHAT_ERROR, true, url, dispatch);\n}\n\nexport function startConversation({ recipient, composedMessage }) {\n  const data = { composedMessage };\n  const url = `/chat/new/${recipient}`;\n  return (dispatch) => {\n    postData(START_CONVERSATION, CHAT_ERROR, true, url, dispatch, data);\n\n    // Clear form after message is sent\n    dispatch(reset('composeMessage'));\n    browserHistory.push(`/dashboard/conversation/view/${data.conversationId}`);\n  };\n}\n\nexport function fetchRecipients() {\n  const url = '/chat/recipients';\n  return dispatch => getData(FETCH_RECIPIENTS, CHAT_ERROR, true, url, dispatch);\n}\n\nexport function sendReply(replyTo, { composedMessage }) {\n  const data = { composedMessage };\n  const url = `/chat/${replyTo}`;\n  return (dispatch) => {\n    postData(SEND_REPLY, CHAT_ERROR, true, url, dispatch, data);\n\n    // Clear form after message is sent\n    dispatch(reset('replyMessage'));\n    socket.emit('new message', replyTo);\n  };\n}\n","import React, { Component } from 'react';\nimport cookie from 'react-cookie';\n\nconst currentUser = cookie.load('user');\n\nclass MessageItem extends Component {\n  render() {\n    return (\n      <div className={currentUser == this.props.author._id ? 'message current-user' : 'message'}>\n        <span className=\"message-body\">{this.props.message}</span>\n        <br />\n        <span className=\"message-byline\">From {this.props.author.profile.firstName} {this.props.author.profile.lastName} | {this.props.timestamp}</span>\n      </div>\n    );\n  }\n}\n\nexport default MessageItem;\n","import React, { Component } from 'react';\nimport MessageItem from './message-item';\n\nconst moment = require('moment');\n\n\nclass MessageList extends Component {\n  render() {\n    return (\n      <div className=\"messages\">\n        {this.props.displayMessages.map(data => <MessageItem\n          key={data._id}\n          message={data.body}\n          author={data.author}\n          timestamp={moment(data.createdAt).from(moment())}\n        />)}\n      </div>\n    );\n  }\n}\n\nexport default MessageList;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Field, reduxForm } from 'redux-form';\nimport { sendReply } from '../../../actions/messaging';\n\nconst form = reduxForm({\n  form: 'replyMessage',\n});\n\nconst renderField = field => (\n  <div>\n    <input className=\"form-control\" autoComplete=\"off\" {...field.input} />\n  </div>\n);\n\nclass ReplyMessage extends Component {\n  handleFormSubmit(formProps) {\n    this.props.sendReply(this.props.replyTo, formProps);\n  }\n\n  renderAlert() {\n    if (this.props.errorMessage) {\n      return (\n        <div className=\"alert alert-danger\">\n          <strong>Oops!</strong> {this.props.errorMessage}\n        </div>\n      );\n    } else if (this.props.message) {\n      return (\n        <div className=\"alert alert-success\">\n          <strong>Success!</strong> {this.props.message}\n        </div>\n      );\n    }\n  }\n\n  render() {\n    const { handleSubmit } = this.props;\n\n    return (\n      <form onSubmit={handleSubmit(this.handleFormSubmit.bind(this))}>\n        {this.renderAlert()}\n        <Field name=\"composedMessage\" className=\"form-control\" component={renderField} type=\"text\" placeholder=\"Type here to chat...\" />\n        <button action=\"submit\" className=\"btn btn-primary\">Send</button>\n      </form>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    recipients: state.communication.recipients,\n    errorMessage: state.communication.error,\n  };\n}\n\nexport default connect(mapStateToProps, { sendReply })(form(ReplyMessage));\n","import React, { Component } from 'react';\nimport { Link } from 'react-router';\nimport { connect } from 'react-redux';\nimport socket from '../../../actions/socket';\nimport { fetchConversation } from '../../../actions/messaging';\n\nimport MessageList from './message-list';\nimport ReplyMessage from './reply-message';\n\nclass Conversation extends Component {\n  constructor(props) {\n    super(props);\n\n    const { params, fetchConversation } = this.props;\n    // Fetch conversation thread (messages to/from user)\n    fetchConversation(params.conversationId);\n    socket.emit('enter conversation', params.conversationId);\n\n    // Listen for refresh messages from socket server\n    socket.on('refresh messages', (data) => {\n      fetchConversation(params.conversationId);\n    });\n  }\n\n  componentWillUnmount() {\n    socket.emit('leave conversation', this.props.params.conversationId);\n  }\n\n  renderInbox() {\n    if (this.props.messages) {\n      return (\n        <MessageList displayMessages={this.props.messages} />\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"panel panel-default\">\n          <div className=\"panel-body\">\n            <h4 className=\"left\">Conversation with {this.props.params.conversationId}</h4>\n            <Link className=\"right\" to=\"/dashboard/inbox\">Back to Inbox</Link>\n            <div className=\"clearfix\" />\n            { this.renderInbox() }\n          </div>\n        </div>\n        <ReplyMessage replyTo={this.props.params.conversationId} />\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    messages: state.communication.messages,\n  };\n}\n\nexport default connect(mapStateToProps, { fetchConversation })(Conversation);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Field, reduxForm } from 'redux-form';\nimport { fetchRecipients, startConversation } from '../../../actions/messaging';\n\nconst form = reduxForm({\n  form: 'composeMessage',\n  validate,\n});\n\nfunction validate(formProps) {\n  const errors = {};\n\n  if (!formProps.composedMessage) {\n    errors.password = 'Please enter a message';\n  }\n\n  return errors;\n}\n\nconst renderField = field => (\n  <div>\n    <input className=\"form-control\" autoComplete=\"off\" {...field.input} />\n    {field.touched && field.error && <div className=\"error\">{field.error}</div>}\n  </div>\n);\n\nclass ComposeMessage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.props.fetchRecipients();\n  }\n\n  handleFormSubmit(formProps) {\n    this.props.startConversation(formProps);\n  }\n\n  renderRecipients() {\n    if (this.props.recipients) {\n      return (\n        this.props.recipients.map(data => <option key={data._id} value={data._id}>\n          {data.profile.firstName} {data.profile.lastName}</option>)\n      );\n    }\n  }\n\n  renderAlert() {\n    if (this.props.errorMessage) {\n      return (\n        <div className=\"alert alert-danger\">\n          <strong>Oops!</strong> {this.props.errorMessage}\n        </div>\n      );\n    } else if (this.props.message) {\n      return (\n        <div className=\"alert alert-success\">\n          <strong>Success!</strong> {this.props.message}\n        </div>\n      );\n    }\n  }\n\n  render() {\n    const { handleSubmit } = this.props;\n\n    return (\n      <form onSubmit={handleSubmit(this.handleFormSubmit.bind(this))}>\n        <h2>Start New Conversation</h2>\n        <Field className=\"form-control\" name=\"recipient\" component=\"select\">\n          <option />\n          {this.renderRecipients()}\n        </Field>\n\n        <label>Enter your message below</label>\n        {this.renderAlert()}\n        <Field name=\"composedMessage\" component={renderField} type=\"text\" placeholder=\"Type here to chat...\" />\n        <button action=\"submit\" className=\"btn btn-primary\">Send</button>\n      </form>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    recipients: state.communication.recipients,\n    errorMessage: state.communication.error,\n  };\n}\n\nexport default connect(mapStateToProps, { fetchRecipients, startConversation })(form(ComposeMessage));\n","import { getData, postData, putData, deleteData } from './index';\nimport { BILLING_ERROR, CREATE_CUSTOMER, FETCH_CUSTOMER, CANCEL_SUBSCRIPTION, CHANGE_SUBSCRIPTION, UPDATE_BILLING } from './types';\n\n//= ===============================\n// Customer actions\n//= ===============================\nexport function createCustomer(stripeToken, plan, lastFour) {\n  const data = { stripeToken, plan, lastFour };\n  const url = '/pay/customer';\n  return dispatch => postData(CREATE_CUSTOMER, BILLING_ERROR, true, url, dispatch, data);\n}\n\nexport function fetchCustomer() {\n  const url = '/pay/customer';\n  return dispatch => getData(FETCH_CUSTOMER, BILLING_ERROR, true, url, dispatch);\n}\n\nexport function cancelSubscription() {\n  const url = '/pay/customer';\n  return dispatch => getData(CANCEL_SUBSCRIPTION, BILLING_ERROR, true, url, dispatch);\n}\n\nexport function updateSubscription(newPlan) {\n  const data = { newPlan };\n  const url = '/pay/subscription';\n  return dispatch => putData(CHANGE_SUBSCRIPTION, BILLING_ERROR, true, url, dispatch, data);\n}\n\nexport function updateBilling(stripeToken) {\n  const data = { stripeToken };\n  const url = '/pay/customer';\n  return dispatch => putData(UPDATE_BILLING, BILLING_ERROR, true, url, dispatch, data);\n}\n","import React, { Component } from 'react';\n\nclass CheckoutFields extends Component {\n  render() {\n    return (\n      <form onSubmit={this.props.onSubmit.bind(this.value)}>\n        <div className=\"row\">\n          <div className=\"col-md-9\">\n            <label>Card Number</label>\n            <input\n              id=\"cardNumber\"\n              className=\"form-control\"\n              onChange={this.props.handleChange.bind(this.value)}\n              value={this.props.formState.cardNumber}\n              autoComplete=\"off\"\n            />\n          </div>\n\n          <div className=\"col-md-3\">\n            <label>CVC</label>\n            <input\n              id=\"cvc\"\n              className=\"form-control\"\n              onChange={this.props.handleChange.bind(this.value)}\n              value={this.props.formState.cvc}\n              autoComplete=\"off\"\n            />\n          </div>\n        </div>\n\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <label>Expiration Month (MM)</label>\n            <input\n              id=\"expMonth\"\n              className=\"form-control\"\n              onChange={this.props.handleChange.bind(this.value)}\n              value={this.props.formState.expMonth}\n              autoComplete=\"off\"\n            />\n          </div>\n\n          <div className=\"col-md-6\">\n            <label>Expiration Year (YYYY)</label>\n            <input\n              id=\"expYear\"\n              className=\"form-control\"\n              onChange={this.props.handleChange.bind(this.value)}\n              value={this.props.formState.expYear}\n              autoComplete=\"off\"\n            />\n          </div>\n        </div>\n\n        <button type=\"submit\" className=\"btn btn-primary\">Get Started!</button>\n      </form>\n    );\n  }\n}\n\nexport default CheckoutFields;\n","import React, { Component } from 'react';\nimport CheckoutFields from './checkout-fields';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/billing';\n\n/* TODO:\n*   - Pass more information down with redux state (i.e., billing address initial val)\n*/\n\nclass CheckoutForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      stripePublicKey: 'pk_test_XXXXXXXXXXXXXXXXXXXXXXXX',\n      cardNumber: '',\n      expMonth: '',\n      expYear: '',\n      cvc: '',\n      error: '',\n    };\n  }\n\n  componentWillMount() {\n    // Import Stripe.js\n    this.loadStripe();\n  }\n\n  loadStripe() {\n    // Check if Stripe is already loaded first\n    if (!document.getElementById('stripe-import')) {\n      const stripeJs = document.createElement('script');\n      stripeJs.id = 'stripe-import';\n      stripeJs.src = 'https://js.stripe.com/v2/';\n      stripeJs.type = 'text/javascript';\n      stripeJs.async = true;\n\n      document.body.appendChild(stripeJs);\n    }\n  }\n\n  handleFormChange(e) {\n    e.preventDefault();\n\n    switch (e.target.id) {\n      case 'cardNumber': return (this.setState({ cardNumber: e.target.value }));\n      case 'cvc': return (this.setState({ cvc: e.target.value }));\n      case 'expMonth': return (this.setState({ expMonth: e.target.value }));\n      case 'expYear': return (this.setState({ expYear: e.target.value }));\n    }\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n\n    const that = this;\n\n    that.setState({ error: '' });\n\n    window.Stripe.setPublishableKey(this.state.stripePublicKey);\n    window.Stripe.card.createToken({\n      number: this.state.cardNumber,\n      cvc: this.state.cvc,\n      exp_month: this.state.expMonth,\n      exp_year: this.state.expYear,\n    }, (status, response) => {\n      if (response.error) {\n        that.setState({ error: response.error });\n\n        return;\n      }\n\n      // Action to save customer token and create charge\n      const plan = that.props.plan;\n      const stripeToken = response.id;\n      const lastFour = response.card.last4;\n\n      if (!plan) {\n        that.props.updateBilling(stripeToken);\n      } else {\n        that.props.createCustomer(stripeToken, plan, lastFour);\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"checkout-form\">\n        {this.state.error.message}\n        <CheckoutFields\n          handleChange={this.handleFormChange.bind(this)}\n          onSubmit={this.handleSubmit.bind(this)}\n          formState={this.state}\n        />\n      </div>\n    );\n  }\n}\n\nexport default connect(null, actions)(CheckoutForm);\n","import React, { Component } from 'react';\nimport { Link } from 'react-router';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/billing';\nimport CheckoutForm from './checkout-form';\n\nconst moment = require('moment');\n\n\nclass BillingSettings extends Component {\n  constructor(props) {\n    super(props);\n\n    this.props.fetchCustomer();\n\n    this.state = {\n      cancelConfirm: false,\n      changeSubscription: false,\n      updateBilling: false,\n      newPlan: '',\n    };\n  }\n\n  handlePlanChange(e) {\n    this.setState({ newPlan: e.target.value });\n  }\n\n  changePlanSubmit() {\n    this.props.updateSubscription(this.state.newPlan);\n  }\n\n  renderAlert() {\n    if (this.props.errorMessage) {\n      return (\n        <div className=\"alert alert-danger\">\n          <strong>Oops!</strong> {this.props.errorMessage}\n        </div>\n      );\n    } else if (this.props.message) {\n      return (\n        <div className=\"alert alert-success\">\n          <strong>Success!</strong> {this.props.message}\n        </div>\n      );\n    }\n  }\n\n  renderPlan() {\n    if (this.props.customer.subscriptions) {\n      const mostRecentSubscription = this.props.customer.subscriptions.total_count - 1;\n      const mostRecentSource = this.props.customer.sources.total_count - 1;\n      const subscribedPlan = this.props.customer.subscriptions.data[mostRecentSubscription].plan.id;\n      const lastFour = this.props.customer.sources.data[mostRecentSource].last4;\n      const pmtAmt = ((this.props.customer.subscriptions.data[mostRecentSubscription].plan.amount) / 100).toFixed(2);\n      const pmtDate = moment.unix(this.props.customer.subscriptions.data[mostRecentSubscription].current_period_end).format('dddd, MMMM Do YYYY').toString();\n\n      if (this.props.customer.subscriptions.data[mostRecentSubscription].cancel_at_period_end) {\n        return (\n          <div className=\"active-subscription\">\n              Your {subscribedPlan} plan will expire on {pmtDate}. You will not be charged again.\n            </div>\n        );\n      } else {\n        return (\n          <div className=\"active-subscription\">\n              You are subscribed to the {subscribedPlan} plan.\n              Your credit card ending in {lastFour} will be charged ${pmtAmt} on {pmtDate}.\n\n              {this.renderAccountActions()}\n          </div>\n        );\n      }\n    }\n\n    return (\n      <div className=\"loading\">\n        Loading...\n      </div>\n    );\n  }\n\n  renderAccountActions() {\n    if (this.state.cancelConfirm) {\n      // TODO: Event handler for yes to dispatch action to cancel sub + redirect to \"sorry to see you go\" page\n      return (\n        <div className=\"cancel-confirm\">\n          <p>Do you really want to cancel your membership to ImproveFit?</p>\n          <div className=\"action-buttons\">\n            <button className=\"btn btn-danger\" onClick={this.props.cancelSubscription.bind(this)}>Yes</button>\n            <button className=\"btn btn-primary\" onClick={this.toggleCancelConfirm.bind(this)}>No</button>\n          </div>\n        </div>\n      );\n    } else if (this.state.changeSubscription) {\n      return (\n        <div className=\"action-buttons\">\n          <select className=\"form-control\" name=\"newPlan\" value={this.state.newPlan} onChange={this.handlePlanChange.bind(this)}>\n            <option value=\"bronze\">Bronze</option>\n            <option value=\"silver\">Silver</option>\n            <option value=\"gold\">Gold</option>\n          </select>\n          <button className=\"btn btn-primary\" onClick={this.changePlanSubmit.bind(this)}>Change</button>\n          <button className=\"btn btn-primary\" onClick={this.toggleChangeSubscription.bind(this)}>Cancel</button>\n        </div>\n      );\n    } else if (this.state.updateBilling) {\n      return (\n        <div className=\"action-buttons\">\n          <CheckoutForm /><button className=\"btn btn-danger\" onClick={this.toggleUpdateBilling.bind(this)}>Cancel</button>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"action-buttons\">\n          <button className=\"btn btn-primary\" onClick={this.toggleChangeSubscription.bind(this)}>Change Subscription</button>\n          <button className=\"btn btn-info\" onClick={this.toggleUpdateBilling.bind(this)}>Update Billing Information</button>\n          <button className=\"btn btn-danger\" onClick={this.toggleCancelConfirm.bind(this)}>Cancel Subscription</button>\n        </div>\n      );\n    }\n  }\n\n  toggleChangeSubscription(e) {\n    e.preventDefault();\n\n    if (this.state.changeSubscription) {\n      this.setState({ changeSubscription: false });\n    } else {\n      this.setState({ changeSubscription: true });\n    }\n  }\n\n  toggleCancelConfirm(e) {\n    e.preventDefault();\n\n    if (this.state.cancelConfirm) {\n      this.setState({ cancelConfirm: false });\n    } else {\n      this.setState({ cancelConfirm: true });\n    }\n  }\n\n  toggleUpdateBilling(e) {\n    e.preventDefault();\n\n    if (this.state.updateBilling) {\n      this.setState({ updateBilling: false });\n    } else {\n      this.setState({ updateBilling: true });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"user-subscription\">\n        {this.renderAlert()}\n        {this.renderPlan()}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    customer: state.customer.customer,\n  };\n}\n\nexport default connect(mapStateToProps, actions)(BillingSettings);\n","import React, { Component } from 'react';\n\nimport CheckoutForm from './checkout-form';\n\nclass InitialCheckout extends Component {\n  render() {\n    return (\n      <CheckoutForm plan={this.props.params.plan} />\n    );\n  }\n}\n\nexport default InitialCheckout;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router';\n\nclass AdminDashboard extends Component {\n  render() {\n    return (\n      <div>\n        Admin navigation goes here.\n      </div>\n    );\n  }\n}\n\nexport default AdminDashboard;\n","import React from 'react';\nimport { Route, IndexRoute } from 'react-router';\n\n// Import miscellaneous routes and other requirements\nimport App from './components/app';\nimport GameRoutes from './components/Game/routes';\n\nimport NotFoundPage from './components/pages/not-found-page';\n\n// Import static pages\nimport HomePage from './components/pages/home-page';\nimport ContactPage from './components/pages/contact-page';\nimport ComponentSamplesPage from './components/pages/component-samples';\n\n// Import authentication related pages\nimport Register from './components/auth/register';\nimport Login from './components/auth/login';\nimport Logout from './components/auth/logout';\nimport ForgotPassword from './components/auth/forgot_password';\nimport ResetPassword from './components/auth/reset_password';\n\n// Import dashboard pages\nimport Dashboard from './components/dashboard/dashboard';\nimport ViewProfile from './components/dashboard/profile/view-profile';\nimport Inbox from './components/dashboard/messaging/inbox';\nimport Conversation from './components/dashboard/messaging/conversation';\nimport ComposeMessage from './components/dashboard/messaging/compose-message';\nimport BillingSettings from './components/billing/settings';\n\n// Import billing pages\nimport InitialCheckout from './components/billing/initial-checkout';\n\n// Import admin pages\nimport AdminDashboard from './components/admin/dashboard';\n\n// Import higher order components\nimport RequireAuth from './components/auth/require_auth';\n\nexport default (\n  <Route path=\"/\" component={App}>\n    <IndexRoute component={HomePage} />\n    <Route path=\"contact-us\" component={ContactPage} />\n    <Route path=\"component-samples\" component={RequireAuth(ComponentSamplesPage)} />\n    <Route path=\"register\" component={Register} />\n    <Route path=\"login\" component={Login} />\n    <Route path=\"logout\" component={Logout} />\n    <Route path=\"forgot-password\" component={ForgotPassword} />\n    <Route path=\"reset-password/:resetToken\" component={ResetPassword} />\n\n    <Route path=\"checkout/:plan\" component={RequireAuth(InitialCheckout)} />\n    <Route path=\"billing/settings\" component={RequireAuth(BillingSettings)} />\n\n    <Route path=\"profile\" component={RequireAuth(ViewProfile)} />\n\n    {GameRoutes}\n\n    <Route path=\"admin\" component={RequireAuth(AdminDashboard)} />\n\n    <Route path=\"dashboard\">\n      <IndexRoute component={RequireAuth(Dashboard)} />\n      <Route path=\"inbox\" component={RequireAuth(Inbox)} />\n      <Route path=\"conversation/new\" component={RequireAuth(ComposeMessage)} />\n      <Route path=\"conversation/view/:conversationId\" component={RequireAuth(Conversation)} />\n    </Route>\n\n    <Route path=\"*\" component={NotFoundPage} />\n  </Route>\n);\n","import { AUTH_USER, UNAUTH_USER, AUTH_ERROR, FORGOT_PASSWORD_REQUEST, RESET_PASSWORD_REQUEST, PROTECTED_TEST } from '../actions/types';\n\nconst INITIAL_STATE = { error: '', message: '', content: '', authenticated: false };\n\nexport default function (state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case AUTH_USER:\n      return { ...state, error: '', message: '', authenticated: true };\n    case UNAUTH_USER:\n      return { ...state, authenticated: false, error: action.payload };\n    case AUTH_ERROR:\n      return { ...state, error: action.payload };\n    case FORGOT_PASSWORD_REQUEST:\n      return { ...state, message: action.payload.message };\n    case RESET_PASSWORD_REQUEST:\n      return { ...state, message: action.payload.message };\n    case PROTECTED_TEST:\n      return { ...state, content: action.payload.message };\n  }\n\n  return state;\n}\n","import { FETCH_USER, ERROR_RESPONSE } from '../actions/types';\n\nconst INITIAL_STATE = { profile: {}, message: '', error: '' };\n\nexport default function (state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case FETCH_USER:\n      return { ...state, profile: action.payload.user };\n    case ERROR_RESPONSE:\n      return { ...state, error: action.payload };\n  }\n\n  return state;\n}\n","import { FETCH_CONVERSATIONS, SEND_CONTACT_FORM, SEND_REPLY, START_CONVERSATION, FETCH_SINGLE_CONVERSATION, FETCH_RECIPIENTS, CHAT_ERROR } from '../actions/types';\n\nconst INITIAL_STATE = { conversations: [], message: '', messages: [], recipients: [], error: '' };\n\nexport default function (state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case FETCH_CONVERSATIONS:\n      return { ...state, conversations: action.payload.conversations };\n    case FETCH_SINGLE_CONVERSATION:\n      return { ...state, messages: action.payload.conversation };\n    case FETCH_RECIPIENTS:\n      return { ...state, recipients: action.payload.recipients };\n    case START_CONVERSATION:\n      return { ...state, message: action.payload.message };\n    case SEND_REPLY:\n      return { ...state, message: action.payload.message };\n    case SEND_CONTACT_FORM:\n      return { ...state, message: action.payload.message };\n    case CHAT_ERROR:\n      return { ...state, error: action.payload };\n  }\n\n  return state;\n}\n","import { CREATE_CUSTOMER, BILLING_ERROR, FETCH_CUSTOMER, CANCEL_SUBSCRIPTION, CHANGE_SUBSCRIPTION, UPDATE_BILLING } from '../actions/types';\n\nconst INITIAL_STATE = { message: '', error: '', customer: {} };\n\nexport default function (state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case CREATE_CUSTOMER:\n      return { ...state, message: action.payload.message };\n    case FETCH_CUSTOMER:\n      return { ...state, customer: action.payload.customer };\n    case CANCEL_SUBSCRIPTION:\n      return { ...state, message: action.payload.message };\n    case CHANGE_SUBSCRIPTION:\n      return { ...state, message: action.payload.message };\n    case UPDATE_BILLING:\n      return { ...state, message: action.payload.message };\n    case BILLING_ERROR:\n      return { ...state, error: action.payload };\n  }\n\n  return state;\n}\n","import { UPDATE_GAME, GAME_ERROR, SET_KINGDOM, SET_FAMILY, SET_PLAYER, SET_GAME, GAME_SUCCESS } from '../actions/types';\nimport GAME from '../design/game';\nimport ITEMS from '../design/items';\nimport SKILLS from '../design/skills';\nimport LOCATIONS from '../design/locations';\nimport CHARACTERS from '../design/characters';\n\nconst design = {\n  GAME,\n  ITEMS,\n  SKILLS,\n  LOCATIONS,\n  CHARACTERS\n}\n\nconst INITIAL_STATE = { message: '', success: true, playerState : null, worldState: null, design };\n\nexport default function (state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case UPDATE_GAME:\n      return { ...state, playerState: action.playerState, worldState: action.worldState }\n    case GAME_ERROR:\n      return { ...state, success: false, error: action.payload }\n    case GAME_SUCCESS:\n      return { ...state, message: action.payload.message }\n    case SET_KINGDOM:\n    \treturn {...state, kingdom: action.payload.user.kingdom }\n    case SET_FAMILY:\n    \treturn {...state, family: action.payload.user.family }\n    case SET_PLAYER:\n    \treturn {...state, player: action.payload.user.currentCharacter }\n    case SET_GAME:\n    \treturn {...state, game: action.payload.user.game }\n  }\n\n  return state;\n}\n","import { EVENT_RESULT, EVENT_ANALYZE, EVENT_CLOSE, EVENT_REVIEW, GIVE_EVENT_LOCAL_PROPS } from '../actions/types';\n\nconst INITIAL_STATE = { open: false };\n\nexport default function (state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case EVENT_CLOSE:\n      return { ...state, open: false }\n    case EVENT_ANALYZE:\n      return { ...state, open: true, mode: 'analyze', ...action.eventState }\n    case EVENT_RESULT:\n    \treturn { ...state, open: true, mode: 'result', ...action.payload.eventState }\n    case EVENT_REVIEW:\n      return { ...state, open: true, mode: 'review', ...action.eventState }\n    case GIVE_EVENT_LOCAL_PROPS: \n      return { ...state, ...action.eventState }\n  }\n\n  return state;\n}\n","import { combineReducers } from 'redux';\nimport { reducer as formReducer } from 'redux-form';\nimport authReducer from './auth_reducer';\nimport userReducer from './user_reducer';\nimport communicationReducer from './communication_reducer';\nimport customerReducer from './customer_reducer';\nimport gameReducer from './game_reducer';\nimport eventReducer from './event_reducer';\n\nconst rootReducer = combineReducers({\n  form: formReducer,\n  auth: authReducer,\n  user: userReducer,\n  communication: communicationReducer,\n  customer: customerReducer,\n  game: gameReducer,\n  eventState: eventReducer\n});\n\nexport default rootReducer;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware } from 'redux'\nimport { Router, browserHistory } from 'react-router'\nimport reduxThunk from 'redux-thunk'\nimport cookie from 'react-cookie'\nimport routes from './routes'\nimport reducers from './reducers/index'\nimport ReactGA from 'react-ga'\nimport { resumeGame } from './actions/auth'\nimport { AUTH_USER, UPDATE_GAME } from './actions/types'\nimport { createLogger } from 'redux-logger'\nimport socket from './actions/socket'\n\n// Import stylesheets\nimport './stylesheets/base.scss'\nimport './components/Game/components/index.scss'\n\nconst logger = createLogger({\n  predicate: (getState, action) => action.type !== UPDATE_GAME\n})\n\n// Initialize Google Analytics\nReactGA.initialize('UA-000000-01')\n\nfunction logPageView() {\n  ReactGA.pageview(window.location.pathname)\n}\n\nconst createStoreWithMiddleware = applyMiddleware(logger, reduxThunk)(createStore)\n\nconst store = createStoreWithMiddleware(reducers)\n\nconst token = cookie.load('token')\nconst user = cookie.load('user')\nif (token && user) {\n  // Update application state. User has token and is probably authenticated\n  store.dispatch({ type: AUTH_USER })\n  store.dispatch(resumeGame())\n  socket.emit('authenticate', token)\n    .on('authenticated', function () {\n      socket.authenticated = true\n      console.log('socket authorized, joining game')\n      socket.on('update game', (playerState, worldState) => {\n        store.dispatch({ type: UPDATE_GAME, playerState, worldState})\n      })\n    })\n    .on('unauthorized', function() {\n      console.error('token not authorized via socket')\n    })\n}\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router history={browserHistory} routes={routes} onUpdate={logPageView} />\n  </Provider>,\n  document.querySelector('.wrapper'))\n","module.exports = {\n  SPEED: 10,\n  //temporary for when I have only one game\n  id: \"5934b6be1aa8f440c4ae72fa\"\n}"],"sourceRoot":""}